{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to the Tucson Mesh Technical Documentation","text":"<p>This is the technical documentation for Tucson Mesh, a low-cost, community-controlled wireless internet provider in Tucson, Arizona.</p>"},{"location":"#whats-in-here","title":"What's in here?","text":"<ul> <li>Documentation of Tucson Mesh's network infrastructure.</li> <li>Guides, instructions and tutorials for things like doing a site survey, installing hardware on a new node and configuring network equipment.</li> </ul>"},{"location":"#whats-not-in-here","title":"What's not in here?","text":"<ul> <li>Passwords and other secrets or sensitive information should absolutely not live in this documentation.</li> <li>Documentation about how the humans who help keep the Mesh online work together (though this could change).</li> <li>Background information about the Mesh, its history, mission and values. Go to the main website for that information.</li> </ul>"},{"location":"guides/ladder-safety/","title":"Ladder and Roof Safety Protocols","text":""},{"location":"guides/ladder-safety/#videos","title":"Videos","text":"<ul> <li>Short video </li> <li>Long video</li> </ul>"},{"location":"guides/ladder-safety/#ladder-safety","title":"Ladder Safety!","text":"<ol> <li>Choose right ladder   a. Make sure it is tall enough without overextending   b. Check the duty rating  </li> <li>Inspect ladder before using it   a. No cracks on rails   b. No cracks on rungs   c. Rubber feet are secured   d. Check the label! (manufacturers recommendations) </li> <li>Be careful where you set up ladder   a. Feet should be on stable ground   b. Base should be 1 foot out from support point for every 4 feet up   c. 3 feet of ladder rising above the roof!   d. Lean on strong surface   e. Never stand on top or top step of ladder   f. Make sure there are no doors that could open and knock over ladder  </li> <li>Climb up and down slowly and cautiously   a. Face ladder   b. 3 points of contact at all times!!   c. Can pull up tools  </li> <li>While on ladder   a. Always 3 points of contact   b. Maintain center of gravity in the middle of ladder  <ul> <li>No leaning! No Reaching!</li> </ul> </li> </ol>"},{"location":"guides/ladder-safety/#roof-safety","title":"Roof Safety","text":"<ul> <li>On steep roofs, use an anchor  <ul> <li>Steep is over 35 degrees  </li> <li>Bracket goes into stud  </li> <li>Tie rope  </li> </ul> </li> <li>Harness?? / Rope??  </li> <li>Soft sole tennis shoes </li> <li>Watch for power lines  </li> <li>Try to do as much as you can on the ground  </li> <li>Never try when wet or raining </li> <li>Don\u2019t lean on or sit on skylights</li> </ul>"},{"location":"guides/routeros-tips/","title":"RouterOS tips","text":"<p>RouterOS is the operating system that runs on MikroTik devices such as the OmniTIK 5 PoE ac and the SXTsq 5 ac.</p> <p>You should really read the official RouterOS manual. This guide is intended to provide task-oriented entry points into the official documentation, especially when the examples in that documentation aren't fully clear.</p>"},{"location":"guides/routeros-tips/#export-the-configuration","title":"Export the configuration","text":"<p>Router OS has a configuration management system that allows exporting and importing configuration.</p> <p>To export the entire configuration, first connect to the console using SSH or the console screen within Winbox.</p> <p>Then, run the following is command. You might want to replace <code>config-export.rsc</code> with a file name that reflects the device name and date of the export, for example, <code>tucsonmesh-52-omni-20250410.rsc</code>:</p> <pre><code>/ export file=config-export.rsc\n</code></pre>"},{"location":"guides/routeros-tips/#we-use-a-mixture-of-routeros-6-and-routeros-7-but-mostly-routeros-6","title":"We use a mixture of RouterOS 6 and RouterOS 7, but mostly RouterOS 6","text":"<p>We use RouterOS 6 on OmniTIK devices because of difficulties with WDS. NYC Mesh may have figured this out.</p> <p>We use RouterOS 7 on the CCR2004-16G-2S+ at the Tucson House supernode because RouterOS 7 has support for Wireguard.</p> <p>Here is the official documentation for migrating from RouterOS 6 to 7.</p>"},{"location":"guides/routeros-tips/#ospf-network-type-behavior","title":"OSPF network type behavior","text":"<p>One consequential difference between ROS 6 and 7 is that the <code>ptmp</code> OSPF network type in ROS 6 behaves like the <code>ptmp-broadcast</code> network type in ROS 7.</p> <p>From the documentation:</p> <p>For PTMP networks that do support broadcast, a hybrid type named \"ptmp-broadcast\" can be used. This network type uses multicast Hellos to discover neighbors automatically and detect bidirectional communication between neighbors. After neighbor detection \"ptmp-broacast\" sends unicast packets directly to the discovered neighbors. This mode is compatible with the RouterOS v6 \"ptmp\" type.</p>"},{"location":"guides/slack/","title":"Slack","text":"<p>Connecting to Tucson Mesh's Slack workspace is the best way to stay up to date about Mesh events, volunteer opportunities and network changes or outages. It's also the best and fastest way to get help.</p> <p>You can sign up here.</p>"},{"location":"guides/slack/#what-is-slack","title":"What is Slack?","text":"<p>At it's core, Slack is a chat app that allows users to send DMs and chat in a variety of \"channels.\" It has a number of additional features like attachments, collaborative documents and lists, and  video calls that make it a popular tool in many workplaces. It's similar to Microsoft Teams or Discord.</p>"},{"location":"guides/slack/#why-do-we-use-slack","title":"Why do we use Slack?","text":"<p>Tucson Mesh aims to be a participatory project. Slack allows the admin team, users and other members of the Mesh community to discuss projects or technical challenges or view past discussion in a way that's easier to follow than an email, text thread or web message board. This is critical for responding to requests for help. As a volunteer-run project, members of the admin team are juggling other responsibilities while trying to help users. Slack makes it easy for different people to step in to continue helping someone if anyone has to step away. </p> <p>It works well on both desktop computers and mobile devices. It has a free tier and a nonprofit discount.</p>"},{"location":"guides/slack/#connecting-to-slack","title":"Connecting to Slack","text":"<p>You can use Slack in your web browser or you can download the mobile or Desktop app.</p>"},{"location":"guides/slack/#getting-help","title":"Getting help","text":"<p>Slack has an extensive help center with guides to using the service. The Using Slack section has links to information about common tasks and terminology in the app.</p> <p>If you learn best from visuals, this quick start video is a good place to start. This video explains channels and DMs.</p>"},{"location":"guides/slack/#channels","title":"Channels","text":"<p>Here are some frequently used channels in the Tucson Mesh Slack. You can also find channels using the search feature, and limit search results to channels.</p> <ul> <li>#tech-discussions: Discussions about the mesh infrastructures, upgrades and technologies used by or related to the mesh.</li> <li>#tucson-mesh-general: New users are added to this channel by default. This is where announcements about the network and upcoming events will be shared.</li> <li>#user-support: Report problems with your connection and talk through troubleshooting steps here.</li> <li>#volunteer-opportunities: This channel is for sharing opportunities to volunteer and to coordinate volunteering.</li> </ul>"},{"location":"guides/about-your-node/","title":"About your node","text":""},{"location":"guides/about-your-node/#how-does-it-work","title":"How does it work?","text":"<p>Tucson Mesh gets bandwidth directly from an internet exchange point (IXP) and distributes it wirelessly through rooftop antennas. When you join Tucson Mesh, you and other members of Tucson Mesh will install a wireless router on your rooftop.</p> <p>The rooftop router setup connects you to our network and the broader internet. It will also broadcast throughout your neighborhood. This makes it easier for your neighbors to join and strengthens Tucson Mesh.</p>"},{"location":"guides/about-your-node/#so-whats-on-my-roof","title":"So what\u2019s on my roof?","text":"<p>Each of our installs needs to connect the user\u2019s home back to one of the main hubs of our network, and from there, the larger internet. We call our main hubs the \u201csupernodes\u201d of Tucson Mesh. Our first supernode is located at the BICAS, and in mid-2025, we brought a second supernode atop Tucson House online. If your rooftop has a line of sight to the antenna mast of a supernode, you can connect to the supernode via an antenna pointed directly at the supernode. Alternately, you can use another antenna to connect with a neighbor\u2019s rooftop antenna that can be seen from your roof.</p>"},{"location":"guides/about-your-node/#connecting-directly-to-the-supernode","title":"Connecting directly to the supernode","text":"<p>For connecting directly to the supernode, we currently use the Ubiquiti LiteBeam 5 AC Gen 2, a router with an integrated directional antenna (meaning it sends and receives wireless data through the air in a straight line).</p> <p></p>"},{"location":"guides/about-your-node/#connecting-to-a-neighbors-node","title":"Connecting to a neighbor's node","text":"<p>At a typical install, we include another router that plugs into the LiteBeam via an ethernet cable. This is a router with an integrated omnidirectional antenna, meaning that it broadcasts a signal in a 360 degree radius. We use the MikroTik OmniTIK 5 PoE AC for this.</p> <p></p> <p></p> <p>The inclusion of the OmniTIK allows for connections between neighboring nodes. If a particular node doesn't have a line of sight to a supernode, its OmniTIK can still connect to a neighboring node. Your connection can than route through that node's LiteBeam and on to the supernode and internet. Or, it could hop through another neighboring node.</p> <p></p> <p>The OmniTIK on your roof also creates an open 5Ghz WiFi network that is broadcast in all directions and named <code>Tucson Mesh Free Wifi</code>. This network allows people passing your house on the street to use the Mesh for free, and also let's people know about the project.</p>"},{"location":"guides/about-your-node/#whats-in-your-home","title":"What's in your home?","text":"<p>In addition to the rooftop routers, you'll typically have a router inside your home to provide a wireless network for your household. Often, we'll use something like a TP-Link Archer C7 AC1750 Wireless Dual Band Gigabit Router for this purpose.</p>"},{"location":"guides/about-your-node/#the-routers-work-together","title":"The routers work together","text":"<p>At a typical install with both an OmniTIK and a LiteBeam, the OmniTIK draws power through an ethernet cable from a power over ethernet (PoE) injector that is plugged into a wall socket inside your house. The OmniTIK then passes on power to the LiteBeam via a short ethernet cable that connects the two routers. </p> <p>Once the LiteBeam is powered on, it connects to the supernode and starts to transmit and receive data, which passes to the OmniTIK and then to your indoor router.</p> <p>The mesh is configured so that if your LiteBeam's connection to the supernode goes down, your OmniTIK will continue to try to connect to the internet through any neighboring OmniTIKs that it can reach. The more nodes we include in the network, the more resilient and reliable Tucson Mesh becomes.</p>"},{"location":"guides/about-your-node/#what-happens-when-i-leave-the-mesh-network","title":"What happens when I leave the mesh network?","text":"<p>If you move or if you no longer want to be a part of the mesh network, we ask that you contact us through the #user-support Slack channel, or send an email to support@tucsonmesh.net and ask someone to come get the hardware from your home.</p>"},{"location":"guides/configuring-routers/","title":"Configuring routers","text":"<p>This guide covers the default configuration for devices we install at user nodes. </p> <p>Typical installs use two routers, the Ubiquiti LightBeam AC Gen 2 (often referred to as an \"LBE\"), which connects directly to the supernode, and MikroTik OmniTIK 5 PoE ac (often referred to as an \"Omni\") to mesh with nearby omnis and spread the internet love to the rest of the neighborhood. You will have to configure both of these routers before heading out to the install.</p> <p>You can find the guides for configuring these routers and others here:</p> <ul> <li>LiteBeam Configuration Guide</li> <li>Rocket Prism 5AC Configuration Guide</li> <li>OmniTIK Configuration Guide</li> <li>SXTsq Configuration Guide</li> <li>TP-Link Archer A6 Configuration Guide</li> </ul>"},{"location":"guides/configuring-routers/archer-a6/","title":"TP-Link Archer A6 Router Configuration Guide","text":"<p>The TP link Archer A6 routers can be set up as individual routers to spread wifi in a home and/or connected together as an \u201caccess point to extend your network\u201d by connecting them in \u201cAccess Point Mode\u201d.</p> <p>Set these ones up with the people who live in the house that the node is at to set the home wifi power.</p> <p>Quick Set-up Guide for TP link Archer A7</p>"},{"location":"guides/configuring-routers/litebeam/","title":"Ubiquiti LightBeam AC Gen 2 Router Configuration Guide","text":"<p>This is a guide for configuring the Ubiquiti LightBeam AC Gen 2, the device that connects a user's node to the supernode.</p>"},{"location":"guides/configuring-routers/litebeam/#materials-needed","title":"Materials needed","text":"<ul> <li>LiteBeam device  <ul> <li>Dish</li> <li>Antenna feed</li> <li>Feed receiver </li> <li>Elevation mount</li> <li>Screws and wingnuts  </li> <li>Azimith mount</li> </ul> </li> <li>Hose clamp  </li> <li>Power cable  </li> <li>POE Injector  </li> <li>Network Number (NN). Check the \u201cInstalled\u201d column on the Install Trello list and use the next number in line.  </li> <li>The default administrator username and password for LiteBeam devices. This is in the password manager as <code>Ubiquiti LiteAP/LBE admin</code>.</li> </ul>"},{"location":"guides/configuring-routers/litebeam/#overview","title":"Overview","text":"<p>To configure the LBE, you will need to take a number of steps. The broad goals of these steps are to:</p> <ul> <li>assemble the device</li> <li>update the firmware (the operating system)  </li> <li>load in a Tucson Mesh configuration</li> </ul> <p>Our configuration is based off of NYC Mesh's, who has a handy-dandy guide for configuring routers that mostly works for Tucson Mesh with a few small adjustments. </p>"},{"location":"guides/configuring-routers/litebeam/#assemble-the-device","title":"Assemble the device","text":"<p>First you will need to assemble the device. This takes about 5 minutes and requires only a small phillips head screwdriver.</p> <ol> <li> <p>Slot together the center and two side reflector panels to form a dish. Use a small screwdriver to lock these 3 pieces together.</p> <p></p> </li> <li> <p>Place the feed receiver into the back of the dish. It snaps into place into one tab at the top, two at the bottom and a pair of holes on both of the side wings.</p> <p></p> </li> <li> <p>Snap the antenna feed into the feed receiver. The tab and the ethernet port should be facing down (i.e toward the \"U\" logo).</p> <p></p> <p></p> </li> <li> <p>Find the correct hardware for the elevation mount, which is the piece that allows for adjusting vertical alignment: long bolt, small white nub, and hand tightening wingnut.</p> <p></p> </li> <li> <p>Snap the elevation mount onto the feed receiver. Make sure the degree markings are right side up. Slot the long bolt with the wingnut through the elevation mount and feed receiver  and into the shorter bolt.</p> <p></p> </li> <li> <p>Find the correct hardware for the clamp that wraps the elevation mount around the azimuth mount, allowing horizontal alignment: a short bolt and wingnut.</p> <p></p> </li> <li> <p>Insert the hardware into opposite ends of the elevation mount clamp and tighten lightly.</p> <p></p> </li> <li> <p>Insert the azimuth mount into the clamp on the elevation mount.</p> <p></p> </li> <li> <p>Attach a hose clamp through the azimuth mount.</p> <p></p> </li> </ol>"},{"location":"guides/configuring-routers/litebeam/#download-firmware","title":"Download firmware","text":"<p>Start off by downloading the firmware that you need. You can find the 8.7.1 version of the firmware here. You may not need to use this file if the firmware on the device is already up to date. We'll check this later.</p>"},{"location":"guides/configuring-routers/litebeam/#generate-a-new-configuration","title":"Generate a new configuration","text":"<ol> <li>Navigate to the configuration generator in your browser.   </li> <li>Select the latest version for the <code>Version</code> select input.  </li> <li>Select the appropriate device (<code>Litebeam5AC</code>) for the <code>Device</code> select input.  </li> <li>Choose <code>lbe-new-8_7_1.cfg.tmpl</code> for the <code>Template</code> select input.  </li> <li>Enter the Network Number (NN) you selected at the beginning of this configuration based on Tucson Mesh\u2019s install Trello board.</li> <li>Click the <code>Download config</code> button.</li> </ol>"},{"location":"guides/configuring-routers/litebeam/#power-on-the-device","title":"Power on the device","text":"<ol> <li>Plug the power cable into the PoE injector and plug the other end into an outlet.  </li> <li>Plug an ethernet cable into the port on the PoE injector labeled POE.   </li> <li>Unscrew the cover that looks like the lid of a Nalgene bottle and plug the other end of the ethernet cable into the port on the LiteBeam. </li> </ol>"},{"location":"guides/configuring-routers/litebeam/#connect-to-the-management-wifi-network","title":"Connect to the management WiFi network","text":"<ol> <li>Once the device powers up, a blue light will appear on the router and it will enable a management network whose SSID looks something like <code>LBE-5AC-Gen2</code>. Connect to this network.</li> </ol>"},{"location":"guides/configuring-routers/litebeam/#browse-to-the-management-web-interface","title":"Browse to the management web interface","text":"<ol> <li>Once connected to the wireless network, navigate to https://192.168.172.1 in your browser if your device does not automatically redirect you.</li> <li>You may be met with a warning due to a self-signed security certificate. Bypass this warning. This will bring you to the LiteBeam's management interface.  </li> </ol>"},{"location":"guides/configuring-routers/litebeam/#update-the-firmware-if-needed","title":"Update the firmware if needed","text":"<ol> <li>Click on the <code>System</code> menu item (a gear icon) in the left-hand sidebar.  </li> <li>Look at the item labeled <code>Firmware Version</code>. The value will be something like <code>WA.V8.7.11</code>. If the value begins with <code>WA.V8.7.</code>, for example <code>WA.V8.7.11</code> then you don't need to update the firmware and you can skip to the next step.  </li> <li>Click the <code>Upload</code> link next to the <code>Upload Firmware</code> label and in the file selection dialog select the firmware file you downloaded earlier. It will end in <code>.bin</code>.  </li> <li>You will see a modal labeled <code>Uploading</code> with a progress bar.  </li> <li>When the firmware has completed uploading, the progress modal will close and a new one will open in the upper-right-hand corner of the screen. It will be labeled <code>Firmware Update</code>. Click the <code>Update</code> button.  </li> <li>A new modal will open showing the status. It will first show <code>Initializing Firmware Update</code> and then <code>Upgrading</code>.  </li> <li>You may get temporarily disconnected from the management wireless network. If you get disconnected, reconnect to the management network and reload the web management interface in your browser.  </li> <li>The <code>Firmware Version</code> should now reflect the version of the firmware you downloaded.</li> </ol>"},{"location":"guides/configuring-routers/litebeam/#upload-the-configuration-file","title":"Upload the configuration file","text":"<ol> <li>In this interface you will go through a \u201cPlease Set Up Your Device\u201d prompt, where you will select <code>United States</code> under <code>Country</code> and <code>English</code> under <code>Language</code>.   </li> <li>Check the Terms of Use checkbox and click <code>Upload Backup Configuration</code>. Choose the .cfg file you downloaded from the configuration generator.</li> <li>You will see a prompt on the top-right corner of the screen saying Configuration backup file uploaded. Click <code>Apply</code> and wait a minute for the page to reload. Sometimes you will have to refresh the page to get back into the interface.  </li> <li>The configuration you uploaded will change the username and password to access the management web interface. To log back in, use the credentials you gathered before the install. These are the credentials labeled <code>Ubiquiti LiteAP/LBE admin</code> in the password manager.</li> </ol>"},{"location":"guides/configuring-routers/litebeam/#pair-with-the-supernode","title":"Pair with the supernode","text":"<ol> <li>Check the street address of the node where the LiteBeam will live relative to the supernode. This will give you a sense of which network (which corresponds to one of the sector antennas) will give you the best signal.  </li> <li>To pair with the supernode, go to <code>Settings</code> &gt; <code>Wireless</code> and click the SSID <code>SELECT\u2026</code> button. This will do a scan.</li> <li>Click the button next to the best AirMax AC signal. This should be the same SSID you identified based on looking at the map. (-80 is bad, -50 is good, -62 is typical)</li> <li>Click <code>SELECT</code> and then <code>SAVE CHANGES</code> (twice if necessary)</li> </ol>"},{"location":"guides/configuring-routers/omnitik-reconfigure/","title":"MikroTik OmniTIK 5 PoE ac Router Reconfiguration Guide","text":"<p>This is a placeholder</p> <p>This documenttion still needs to be written.</p>"},{"location":"guides/configuring-routers/omnitik/","title":"MikroTik OmniTIK 5 PoE ac Router Configuration Guide","text":"<p>How can this documentation be improved?</p> <ul> <li>Explain how to connect to the device with an ethernet cable if the automatic management wifi network disappears.</li> <li>Update \"gut checks\" to be more explicit.</li> </ul> <p>This is a guide for configuring the MikroTik OmniTIK 5 PoE ac.</p>"},{"location":"guides/configuring-routers/omnitik/#materials-needed","title":"Materials needed","text":"<ul> <li> <p>OmniTIK (OmniTIK series - User manuals - MikroTik Documentation)</p> <p></p> </li> <li> <p>Power Cord and AC Adapter</p> <p></p> </li> <li> <p>POE Injector</p> <p></p> </li> <li> <p>Indoor ethernet patch cable</p> </li> <li>Computer that can WinBox or an SCP client</li> <li>Network number. Check the mesh installs Trello board to see what the next unused network number would be.</li> <li>Access to a power outlet</li> <li>The password to connect to the node's wireless network (i.e. the one that will be named <code>tucsonmesh-NN-omni</code> where <code>NN</code> is replaced with the network number). This is labeled <code>tucsonmesh-*-omni WiFi Password / PSK</code> in the password manager.</li> <li>The username and password for the device's web management interface. This is labeled <code>Omnitik &amp; SXT - admin</code> in the password manager.</li> </ul>"},{"location":"guides/configuring-routers/omnitik/#download-software-for-uploading-files-to-the-router","title":"Download software for uploading files to the router","text":"<p>You will need software that can talk to the router and upload the firmware and config file from your computer to the router.</p>"},{"location":"guides/configuring-routers/omnitik/#for-windows","title":"For Windows","text":"<p>Download one of these applications.</p> <ul> <li>WinBox: A desktop application for managing MikroTik routers.</li> <li>PuTTY: A program for connecting computers using a secure protocol. It can also upload and download files using that protocol.</li> <li>You must download pscp.exe from PuTTY (64-bit or 32-bit) to the folder that where you will be downloading the router config files. (For example, the <code>Downloads</code> folder).</li> </ul>"},{"location":"guides/configuring-routers/omnitik/#for-mac","title":"For Mac","text":"<ul> <li>WinBox: A desktop application for managing MikroTik routers. The 4.0beta version supports macOS.</li> <li>macOS should come with a command-line SCP client already installed.</li> </ul>"},{"location":"guides/configuring-routers/omnitik/#linux","title":"Linux","text":"<ul> <li>Most Linux distributions come with a command-line SCP client already installed.</li> <li>WinBox: A desktop application for managing MikroTik routers. The 4.0beta version supports Linux.</li> </ul>"},{"location":"guides/configuring-routers/omnitik/#overview","title":"Overview","text":"<ol> <li>Download correct firmware</li> <li>Generate and download config file</li> </ol> <p>Configuring an Omni is very similar to configuring LiteBeams. You will need to first update the firmware, and then upload a TucsonMesh version of the configuration. In a given install, the Omni will have the same network number as the LBE.</p>"},{"location":"guides/configuring-routers/omnitik/#power-on-the-omni","title":"Power on the Omni","text":"<ol> <li>Take the OmniTik device out of the box.</li> <li>Connect the power chord to the AC adapter and plug the power chord into an outlet.</li> <li>Plug the skinny plug on the other end of the AC adapter into the POE injector.</li> <li>Plug the one end of the patch cable into the POE injector and the other end into the POE port on the Omni. On recent versions, this port is labeled \"PoE in\".</li> </ol>"},{"location":"guides/configuring-routers/omnitik/#download-the-correct-firmware","title":"Download the correct firmware","text":"<ol> <li>Start by downloading the latest Long-Term v6 version of the firmware for the MIPSBE architecture. As of April 2025, this is version (6.49.18).</li> <li>This will download a .npk file named something like <code>routeros-mipsbe-6.49.18.npk</code>.</li> </ol>"},{"location":"guides/configuring-routers/omnitik/#generate-and-download-a-configuration-file","title":"Generate and download a configuration file","text":"<ol> <li>Navigate to the TucsonMesh configuration generator in your browser.</li> <li>Make sure that the <code>Device</code> drop down is set to <code>Omnitik5AC</code>.</li> <li>Enter the <code>Network Number</code> for the install.</li> <li>Click <code>Download Config</code>. This will download a .rsc file called something like <code>omni-poe-ether5.rsc</code>.</li> </ol>"},{"location":"guides/configuring-routers/omnitik/#connect-to-the-omnitiks-wireless-network","title":"Connect to the OmniTIK's wireless network","text":"<p>Be ready to be disconnected</p> <p>Connecting to the Omnitik's network will disconnect you from the internet, so make sure you have WinBox or an SCP client, firmware and the router configuration file downloaded before proceeding.</p> <ol> <li>Next, plug in your Omnitik and give it about a minute to boot up.</li> <li>Connect to the wireless network that it generates automatically. This network will look something like <code>Mikrotik-F32xxxx</code>.</li> </ol>"},{"location":"guides/configuring-routers/omnitik/#upload-firmware","title":"Upload firmware","text":""},{"location":"guides/configuring-routers/omnitik/#using-the-mikrotik-web-interface","title":"Using the MikroTik web interface","text":"<ol> <li>Open the MikroTik graphical user interface (GUI)  in your browser by pasting <code>192.168.88.1</code> into the location bar.</li> <li>If prompted to log in, log in using the default username, <code>admin</code>. There is no password. If it prompts you to change the password, click \u201cCancel\u201d to proceed.</li> <li>Click \u201cWebfig\u201d in the top right corner.</li> <li>Click \u201cFiles\u201d in the left side menu.</li> <li>Click \u201cChoose File\u201d or \"Browse\u201d at the top.</li> <li>Navigate to where you saved the firmware, select the file and click \u201cOpen\u201d. You will see the file appear in the interface.</li> <li>Wait for the firmware to fully upload (you will see the upload progress in the bottom left corner).</li> <li>This firmware will automatically be installed when you reboot with the new configuration (see next section).</li> </ol>"},{"location":"guides/configuring-routers/omnitik/#using-winbox","title":"Using WinBox","text":"<ol> <li>Open WinBox. Make sure <code>Neighbors</code> is selected in the <code>Select from</code> dropdown. Double-click on the MAC Address of the OmniTIK which will appear as a Neighbor with an IP address of <code>192.168.88.1</code>.</li> <li>Make sure <code>admin</code> is entered in the <code>Login</code> field and then click <code>Connect</code>. You are now looking at the router\u2019s Graphical User Interface (GUI). It has menus, buttons and inputs that control the router\u2019s settings.</li> <li>Upload the firmware you downloaded into the Omni. Click on the <code>Files</code> item in the left-hand menu and drag the .npk file from your computer into the right-hand pane.</li> <li>Click on <code>System</code> in the left-hand-side menu and then click <code>Reboot</code>. Click <code>OK</code> in the confirmation dialog.</li> <li>WinBox will show a message that you have been disconnected from the device while it reboots. The LEDs on the front of the device should flash and you should hear a beep telling you that the device has rebooted.</li> <li>Reconnect to the management wireless network.</li> <li>Log into the device in WinBox. If you've left WinBox open, you may be able to just click a button to reconnect.</li> <li>Confirm in the <code>Files</code> window that the .npk file you uploaded is no longer there. This means the update has been installed.</li> </ol>"},{"location":"guides/configuring-routers/omnitik/#upload-configuration-file","title":"Upload configuration file","text":""},{"location":"guides/configuring-routers/omnitik/#using-an-scp-client","title":"Using an SCP client","text":""},{"location":"guides/configuring-routers/omnitik/#mac-or-linux","title":"Mac or Linux","text":"<ol> <li>Open a terminal program on your computer (on a Mac the app is literally called Terminal)</li> <li>Change directory to the folder where you\u2019ve saved the config using the <code>cd</code> command. For example, if you download the configuration file to the default download location on a Mac, the <code>Downloads</code> folder in a user's home directory, you would type <code>cd ~/Downloads</code> and then type the <code>return</code> key to change to the correct folder.</li> <li>Copy the router configuration file from your computer to the router with the following command: <code>scp -o StrictHostKeyChecking=no omni-poe-ether5.rsc admin@192.168.88.1:flash/</code></li> </ol>"},{"location":"guides/configuring-routers/omnitik/#windows-using-putty","title":"Windows, using PuTTY","text":"<ol> <li>If you are using a Windows operating system, open the <code>Command Prompt</code> on your computer.</li> <li>Select the <code>Start</code> menu (the Windows icon) on the taskbar, or press the Windows key on your keyboard.</li> <li>Type <code>cmd</code> in the search input.</li> <li>Select <code>Command Prompt</code> from the search results.</li> <li>In the command prompt window, navigate to the folder where you\u2019ve saved the config using the <code>cd</code> command. For example, if you saved the configuration file in the default location, the <code>Downloads</code> folder in your home directory, you would type  <code>cd Downloads</code> and press the return key to change the directory.</li> <li>If you entered this command correctly, you won't see any message, you'll just get a new prompt below the one where you typed the <code>cd</code> command.</li> <li>You can learn more about using the <code>cd</code> command in this article.</li> <li>Paste this command into Command Prompt, replacing the highlighted portion with the configuration file you just downloaded:    <code>pscp -scp omni-poe-ether5.rsc admin@192.168.88.1:flash/</code></li> </ol>"},{"location":"guides/configuring-routers/omnitik/#using-winbox_1","title":"Using WinBox","text":"<ol> <li>Open the <code>Files</code> window again and drag and drop the config file (the one that ends in <code>.rsc</code>) from your computer into the <code>Files</code> window. Make sure to drop the file in the <code>flash</code> subdirectory.</li> </ol>"},{"location":"guides/configuring-routers/omnitik/#reboot-the-device-with-the-new-configuration","title":"Reboot the device with the new configuration","text":""},{"location":"guides/configuring-routers/omnitik/#using-the-administrative-web-interface","title":"Using the administrative web interface","text":"<ol> <li>Return to the MikroTik GUI in your web browser and navigate back to <code>Files</code> as described in the section above. You should see the config file you just uploaded.</li> <li>Click <code>System</code> in the left side menu.</li> <li>Click <code>Reset Configuration</code> in the left side menu dropdown.</li> <li>Select <code>No Default Configuration</code></li> <li>For the <code>Run After Reset</code> option, select <code>flash/omni-poe-ether5.rsc</code>.</li> <li>Click <code>Reset Configuration</code>,</li> <li>The Omni will now reboot, reset the configuration and load the configuration you uploaded. You will  be disconnected from the management wireless network. The Omni should beep multiple times, ending with an 8-bit version of Zombie Nation\u2019s KernKraft 400 \ud83e\udd18\ud83e\udd18\ud83e\udd18. If you hear this, the configuration was a success.</li> </ol>"},{"location":"guides/configuring-routers/omnitik/#using-winbox_2","title":"Using WinBox","text":"<ol> <li>Click <code>System</code> in the left side menu.</li> <li>Click <code>Reset Configuration</code> in the left side menu dropdown.</li> <li>Select <code>No Default Configuration</code></li> <li>For the <code>Run After Reset</code> option, select <code>flash/omni-poe-ether5.rsc</code>.</li> <li>Click <code>Reset Configuration</code>,</li> <li>The Omni will now reboot, reset the configuration and load the configuration you uploaded. You will  be disconnected from WinBox as well as the management wireless network. The Omni should beep multiple times, ending with an 8-bit version of Zombie Nation\u2019s KernKraft 400 \ud83e\udd18\ud83e\udd18\ud83e\udd18. If you hear this, the configuration was a success.</li> </ol>"},{"location":"guides/configuring-routers/omnitik/#set-the-administrative-password","title":"Set the administrative password","text":"<ol> <li>Connect to the new WiFi network created for the Omni router. The name of this network will be <code>tucsonmesh-NN-omni</code> where <code>NN</code> is replaced by the network number for this node, for example, <code>tucsonmesh-79-omni</code>.</li> <li>Log in to the OmniTIK on your browser. The OmniTIK IP address has changed to a 10.69.x.x address. This is generated from the network number, e.g. for network number 79 the IP address will be <code>10.69.0.79</code>, and you'll type <code>http://10.69.0.79</code> in your browser's location bar to access the administration interface.</li> <li>Upon connecting, you may be prompted to enter a new password. Leave the <code>Old Password</code> field blank and enter the standard Tucson Mesh OmniTik password (iykyk) in the <code>New Password</code> and <code>Confirm Password</code> fields. </li> <li>If you are not prompted automatically to enter a new password, click <code>WebFig</code> in the upper-right-hand corner menu. Then click <code>System</code> in the left side menu, and then click <code>Password</code> in the sub-menu.</li> <li>Leave the <code>Old Password</code> field blank and enter the standard Tucson Mesh OmniTik password (iykyk) in the <code>New Password</code> and <code>Confirm Password</code> fields.</li> <li>Click the <code>Password</code> button. </li> </ol>"},{"location":"guides/configuring-routers/omnitik/#verify-the-configuration","title":"Verify the configuration","text":"<p>After resetting, check the OmniTik to make sure that the router was reconfigured using the file you uploaded.</p> <p>You can do a few \u201cgut checks\u201d like seeing that the WPS password is correctly set or checking to see that ethernet port 5 has POE activated (this is the port that will power the LBE).</p>"},{"location":"guides/configuring-routers/omnitik/#label-and-store-the-omni","title":"Label and store the Omni","text":"<p>Write the network number on the Omni box and the Omni router itself and put it away for your install!</p>"},{"location":"guides/configuring-routers/rocketprism/","title":"Ubiquiti Rocket Prism 5AC Router Configuration Guide","text":"<p>This is a guide for configuring the Ubiquiti Rocket Prism 5AC. This device is used as a sector router on our Tucson House supernode.</p>"},{"location":"guides/configuring-routers/rocketprism/#materials-needed","title":"Materials needed","text":"<ul> <li>Rocket Prism device</li> <li>Mount of choice</li> <li>Eventually, an antenna (as the RocketPrism itself doesn't come with one)</li> <li>Power cable</li> <li>POE Injector</li> <li>The default administrator username and password for RocketPrism devices. This is in the password manager as <code>Tucson House RocketPrism 5AC Admin</code>.</li> </ul>"},{"location":"guides/configuring-routers/rocketprism/#overview","title":"Overview","text":"<p>To configure the Rocket Prism, you will need to take a number of steps. The broad goals of these steps are to:</p> <ul> <li>load in a Tucson Mesh configuration</li> <li>update the firmware (the operating system)  </li> <li>install/mount the device</li> </ul>"},{"location":"guides/configuring-routers/rocketprism/#download-the-firmware","title":"Download the firmware","text":"<p>Start by downloading the firmware that you'll be upgrading the device to. You can grab the newest version of the firmware here. The firmware on the device may already be up to date, but it's good to have on hand for if it's not.</p>"},{"location":"guides/configuring-routers/rocketprism/#download-a-baseline-configuration","title":"Download a baseline configuration","text":"<p>Next, download a sample configuration file here that we'll use to quickly setup the device and then tweak for the new install.</p>"},{"location":"guides/configuring-routers/rocketprism/#power-on-the-device","title":"Power on the device","text":"<ol> <li>Plug the power cable into the PoE injector and plug the other end into an outlet.  </li> <li>Plug an ethernet cable into the port on the PoE injector labeled POE.   </li> <li>Pull off the weather-resistant cover on the bottom and plug the other end of the ethernet cable into the port on the Rocket Prism.</li> </ol>"},{"location":"guides/configuring-routers/rocketprism/#connect-to-the-management-wifi-network","title":"Connect to the management WiFi network","text":"<ol> <li>Once the device powers up, some blue lights will appear on the router and it will enable a management network whose SSID looks something like <code>RP-5AC-Gen2:&lt;MACADDRESS&gt;</code>. Connect to this network.</li> </ol>"},{"location":"guides/configuring-routers/rocketprism/#browse-to-the-management-web-interface","title":"Browse to the management web interface","text":"<ol> <li>Once connected to the wireless network, navigate to https://192.168.172.1 in your browser if your device does not automatically redirect you.</li> <li>You may be met with a warning due to a self-signed security certificate. Bypass this warning. This will bring you to the Rocket Prism's management interface.  </li> </ol>"},{"location":"guides/configuring-routers/rocketprism/#upload-the-configuration-file","title":"Upload the configuration file","text":"<ol> <li>In this interface you will go through a \u201cPlease Set Up Your Device\u201d prompt, where you will select <code>United States</code> under <code>Country</code> and <code>English</code> under <code>Language</code>.   </li> <li>Check the Terms of Use checkbox and click <code>Upload Backup Configuration</code>. Choose the .cfg file you downloaded from the configuration generator.</li> <li>You will see a prompt on the top-right corner of the screen saying Configuration backup file uploaded. Click <code>Apply</code> and wait a minute for the page to reload. Sometimes you will have to refresh the page to get back into the interface.  </li> <li>The configuration you uploaded will change the username and password to access the management web interface. To log back in, use the credentials you gathered before the install. These are the credentials labeled <code>Tucson House RocketPrism 5AC Admin</code> in the password manager.</li> </ol>"},{"location":"guides/configuring-routers/rocketprism/#update-the-firmware-if-needed","title":"Update the firmware if needed","text":"<ol> <li>Click on the <code>System</code> menu item (a gear icon) in the left-hand sidebar.  </li> <li>Click the <code>Upload</code> link next to the <code>Upload Firmware</code> label and in the file selection dialog select the firmware file you downloaded earlier. It will end in <code>.bin</code>.  </li> <li>You will see a modal labeled <code>Uploading</code> with a progress bar.  </li> <li>When the firmware has completed uploading, the progress modal will close and a new one will open in the upper-right-hand corner of the screen. It will be labeled <code>Firmware Update</code>. Click the <code>Update</code> button.  </li> <li>A new modal will open showing the status. It will first show <code>Initializing Firmware Update</code> and then <code>Upgrading</code>.  </li> <li>You may get temporarily disconnected from the management wireless network. If you get disconnected, reconnect to the management network and reload the web management interface in your browser.  </li> <li>The <code>Firmware Version</code> should now reflect the version of the firmware you downloaded.</li> </ol>"},{"location":"guides/configuring-routers/rocketprism/#pair-with-uisp","title":"Pair with UISP","text":"<p>Note: you can only fully complete this step if your Rocket Prism has internet access (i.e., the ethernet cable on the other side of your PoE injector is connected to something that provides internet access). If your device doesn't, you can still configure the UISP key; you just won't be able to finish adding the device in UISP until it can reach out and request adoption.</p> <ol> <li>Click the <code>UISP</code> button in the top right.</li> <li>Click <code>Change Key</code>.</li> <li>Paste the URL from the password manager item <code>Tucson House RocketPrism - UISP Key</code>.</li> </ol> <p>If your RocketPrism has internet access:</p> <ol> <li>Login to UISP and navigate to the devices screen.</li> <li>At the bottom, there should be a yellow device that represents your Rocket Prism and says \"Pending Adoption\". Adopt it into the network. Assign it to a site (likely: Tucson House).</li> </ol>"},{"location":"guides/configuring-routers/rocketprism/#miscellaneous-cleanup","title":"Miscellaneous cleanup","text":"<ul> <li>Set the timezone under <code>System -&gt; Date/Time Settings</code> to <code>GMT-07:00</code> if it's not already.</li> <li>Change the device name under <code>System -&gt; Device</code> to whatever this sector will be called.</li> <li>Similarly, change the WiFi SSID that the device broadcasts under <code>Wireless -&gt; SSID</code>. This is likely the same as the device name.</li> <li>Under <code>Services -&gt; SSH</code>, uncheck the SSH Server box and click <code>Apply Changes</code> on the bottom of the screen.</li> <li>Consider changing the center frequency that your sector broadcasts on ahead of installation.</li> </ul>"},{"location":"guides/configuring-routers/rocketprism/#configure-the-sector-for-your-installs-needs","title":"Configure the sector for your install's needs","text":"<p>You're configuring a sector router. You probably have specific things to your install that you should do here, but I don't know what they are. Maybe change the network SSID (go to the Wireless tab). Or the hostname/timezone (go to the System tab). Best of luck with whatever it is, though! </p>"},{"location":"guides/configuring-routers/rocketprism/#hardware-and-mounting","title":"Hardware and Mounting","text":"<p>TBD, but it's likely specific to your install too.</p>"},{"location":"guides/configuring-routers/sxtsq/","title":"MikroTik SXTsq 5 ac Router Configuration Guide","text":"<p>How can this documentation be improved?</p> <ul> <li>Clarify how to tell the SXT which router to bridge with, and to tell which router to be the top and which to be the bottom (receiving and sending). </li> <li>Check if we still need to replace instances of <code>nycmesh</code> with <code>tucsonmesh</code> in the generated config, or has this been fixed? </li> </ul> <p>This is a guide to configuring the MikroTik SXTsq 5 ac, which is often used for point-to-point connections between nodes.</p> <p>These instructions are based on NYC Mesh's configuration docs for this device.</p>"},{"location":"guides/configuring-routers/sxtsq/#materials-needed","title":"Materials needed","text":"<ul> <li>Router</li> <li>POE injector</li> <li>AC adapter for POE injector</li> <li>Computer</li> <li>Ethernet adapter for computer</li> <li>Ethernet cable</li> <li>WinBox installed on your computer or an SCP and SSH client</li> <li>Network number</li> </ul>"},{"location":"guides/configuring-routers/sxtsq/#connect-to-the-device","title":"Connect to the device","text":"<p>Plug one end of an ethernet cable into the port at the bottom of the SXTsq. Plug the other end of the cable into the POE injector. </p> <p>Connect the POE injector to your computer (on the injector that comes with the device, this is a short, integrated cable labeled \"DATA\").</p> <p>Connect the AC adapter to the POE injector.</p> <p>The SXTsq device will initially have an IP address of <code>192.168.88.1</code>. In order to connect to it, you will need to give your computer the IP address <code>192.168.88.5</code> with a subnet mask of <code>255.255.255.0</code>. </p> <p>Instead of manually setting the IP address of your computer, you could plug the SXTsq, and your computer to one of ethernet ports 2-5 on an OmniTIK or similar router, find the DHCP lease for the SXTsq, and connect to it that way.</p>"},{"location":"guides/configuring-routers/sxtsq/#generate-a-configuration-file","title":"Generate a configuration file","text":"<p>If using the SXT instead of a LBE to connect to another Omni, go to the Tucson Mesh Configuration Generator and create a configuration file by selecting these options in the form:</p> <ul> <li>Version: <code>v4.8.4</code> </li> <li>Device: <code>SXTsq5AC</code> </li> <li>Template: <code>sxtsq5ac-mesh-ospf.rsc</code> .   </li> <li>network number: </li> <li>If you are only installing one SXT use the network number of the node you are installing it at. E.g. if installing an SXT at NN66, use <code>66</code> as the NN in the configuration generator.  </li> <li>If you are installing two or more SXTs add the network number of the place it is installed, and append the network number for the node the SXT it is connecting to. E.g. <code>6669</code> if you are installing it at NN66 and pointing it at NN69.</li> </ul> <p>Click the <code>Download config</code> button, which should download a .rsc file named <code>sxtsq5ac-mesh-ospf.rsc</code>.</p> <p>\u26a0\ufe0f If using the template <code>sxtsq5ac-mesh-ospf.rsc</code>, all instances of <code>nycmesh</code> in the config should already be adjusted to <code>tucsonmesh</code>. If using a different template, you may need to change all instances of <code>nycmesh</code> to <code>tucsonmesh</code> in the text file of the config by using ctrl + f replace all.</p>"},{"location":"guides/configuring-routers/sxtsq/#upload-configuration","title":"Upload configuration","text":""},{"location":"guides/configuring-routers/sxtsq/#using-the-winbox-app","title":"Using the WinBox app","text":"<p>Open WinBox.</p> <p>You should be able to see the SXTsq by looking in the <code>Neighbors</code> tab of WinBox.</p> <p>Connect to the SXTsq by double-clicking on the MAC Address (important!) that appears in the list. </p> <p>On the 4.0 version of WinBox, this will initiate the connection. On older versions, you may have to wait for the MAC address to populate  the <code>Connect To</code> box and then click the <code>Connect</code> button at the top. The login is <code>admin</code> and the password is blank.</p> <p>You will get a prompt saying \u201cRouterOS Default Configuration\u201d. Click <code>OK</code> to dismiss.</p> <p>Once connected, load the config you generated using the Tucson Mesh configuration generator.  </p> <p>Navigate to the <code>files</code> tab in WinBox\u2019s GUI and drag the .rsc config you just downloaded into the <code>flash</code> folder. </p> <ul> <li>On the left sidebar, click <code>Files</code>. Open a File Explorer or Finder window alongside WinBox and and drop the configuration file you downloaded earlier into the <code>flash</code> folder.  </li> <li>You should see the uploaded file have <code>flash/</code> before the filename. </li> <li>\u26a0\ufe0f Important! if it doesn\u2019t have flash before it, make sure you drop the file onto the flash folder and try again.</li> </ul> <p>Tell the router's operating system to reset the configuration using the file you just uploaded.</p> <ul> <li>On the left sidebar, click <code>System</code>, then <code>Reset Configuration</code>.   </li> <li>Check the <code>No Default Configuration</code> box.  </li> <li>Click the down arrow next to <code>Run After Reset</code> to select the file you uploaded.   </li> <li>Finally, click <code>Reset Configuration</code> and <code>yes</code>, and you will be disconnected.   </li> <li>After a couple of minutes, the LED next to the person icon on the device will turn on, indicating that the configuration has been applied.  </li> <li>\u26a0\ufe0f As of Apr 5, 2025, the LED next to the person icon didn't light up, even though the configuration was installed. If the LED doesn't light, just make sure you've given the process at least 5 minutes before moving on to the next step.</li> </ul>"},{"location":"guides/configuring-routers/sxtsq/#reconnect-using-winbox","title":"Reconnect using WinBox","text":"<p>At this point you may need to close WinBox and open it again, or even power cycle the SXTsq by unplugging and plugging in the ethernet cable from the bottom of the device in order to reconnect to the SXTsq.</p> <p>If the device shows up in WinBox, note its IP address. You will want to manually assign an IP address on the same subnet as the SXTsq to your computer. Note that the configuration generator assigns IP addresses to the device based on its network number using the scheme <code>10.69.0.[NN + 100]</code>. For example, if the network number is 88, the IP address of the device will be <code>10.69.0.188</code>. Give your computer an IP on the same subnet, such as <code>10.69.0.189</code> with a netmask of <code>255.255.255.0</code>.</p> <p>You should then be able to connect to the device using WinBox as you did before.</p>"},{"location":"guides/configuring-routers/sxtsq/#set-the-ssid-for-bridging","title":"Set the SSID for bridging","text":"<p>Now you will need to change the SSID in WinBox by clicking the <code>Wireless</code> tab, double clicking on the row for <code>wlan1</code> in the table that appears and clicking on the <code>Wireless</code> tab of the window that pops up named <code>Interface &lt;wlan1&gt;</code>.  </p> <ul> <li>If configuring the SXT to act as a direct bridge to another SXT: </li> <li>For the SXTsq AP (i.e. the remote SXTsq that the end user's SXTsq is connecting to, i.e the top), change the SSID to <code>tucsonmesh-NN</code> where <code>NN</code> is the network number where this end of the point-to-point will be installed. Then the user's device will connect so that the SXTsq will connect as a bridge to the SXTsq on the other end of the connection. Then change the <code>mode</code> to <code>bridge</code>.    </li> <li>For the SXTsq client (i.e the SXTsq that is installed at the end user\u2019s home, i.e. the bottom) change the SSID to <code>tucsonmesh-NN</code> where <code>NN</code> is the network number of the AP and keep the <code>mode</code> as <code>station bridge</code>.  </li> <li>If configuring the SXTsq to connect to a specific OmniTIK: Change the SSID to <code>tucsonmesh-NN-omni</code> where <code>NN</code> is the network number of the remote node where the OmniTIK is located. For example, if trying to connect to the node with network number 56, set the SSID to <code>tucsonmesh-56-omni</code>.  </li> <li>If configuring the SXT to connect to ANY omni that it can see:  Change the SSID to <code>tucsonmesh-wds</code>. This will allow it to automatically connect to any router on the mesh network. We typically don't do this and prefer to have an SXT pair with a particular OmniTIK or other SXT.</li> </ul>"},{"location":"guides/configuring-routers/sxtsq/#check-the-connection","title":"Check the connection","text":"<p>That\u2019s it! You should be good to go at this point. </p> <p>You can check the connections here through the <code>Wireless</code> tab on the left and see the signal strength and what connection the SXsqT is connecting to by clicking through some of the options in the <code>Wireless</code> window. There is also a <code>scan</code> option to find options of what to connect to and an <code>alignment</code> tool.   </p>"},{"location":"guides/infrastructure-admin/add-wireguard-users/","title":"Adding Wireguard Users to a RouterOS v7 Wireguard Server","text":"<p>Wireguard is a modern VPN tunnel with an emphasis on simplicity, security, and speed. Some infrastructure in the mesh, like the MikroTik CCR2004-16G-2S+ in the Tucson House Supernode, provides a Wireguard tunnel to help the mesh admin crew access and debug equipment from afar. For MikroTik equipment, this functionality is only available on devices that are running RouterOS v7. In this guide, we'll go through the steps that are needed to add another client to this server, assuming you already have some level of existing access.</p>"},{"location":"guides/infrastructure-admin/add-wireguard-users/#requirements","title":"Requirements","text":"<ul> <li>Access to a linux terminal of some kind</li> <li>Windows: install the Windows Subsystem for Linux and perform these tasks from a virtualized Ubuntu environment.</li> <li>On your linux environment: install either the <code>wireguard</code> or <code>wireguard-tools</code> package, with the specific package chosen from here</li> <li>If you're on Ubuntu, you'll want <code>wireguard</code></li> <li>If you're on Fedora, you'll want <code>wireguard-tools</code></li> </ul> <p>Once you have the right software installed, the <code>wg</code> command will be available in your terminal similar to the following:</p> <pre><code>admin@mesh-box:~$ wg --help\nUsage: wg &lt;cmd&gt; [&lt;args&gt;]\n\nAvailable subcommands:\n  show: Shows the current configuration and device information\n  showconf: Shows the current configuration of a given WireGuard interface, for use with 'setconf'\n  set: Change the current configuration, add peers, remove peers, or change peers\n  setconf: Applies a configuration file to a WireGuard interface\n  addconf: Appends a configuration file to a WireGuard interface\n  syncconf: Synchronizes a configuration file to a WireGuard interface\n  genkey: Generates a new private key and writes it to stdout\n  genpsk: Generates a new preshared key and writes it to stdout\n  pubkey: Reads a private key from stdin and writes a public key to stdout\nYou may pass `--help' to any of these subcommands to view usage.\n</code></pre>"},{"location":"guides/infrastructure-admin/add-wireguard-users/#key-generation","title":"Key Generation","text":"<p>Wireguard tunnels are based on public key cryptography. Creating a new client configuration file involves generating a new private key, public key, and, because we like to keep things a bit extra \ud83d\udc85, a preshared key. This sequence of steps will look like the following:</p> <p>In practice, Never use a private key that is exposed in documentation like this. Ideally, never expose your private key at all. It's called private for a reason.</p> <pre><code># 1. Ensure your umask is set to something secure.\n# This helps ensure that the file we create here is not readable by any user on your machine\nadmin@mesh-box:~$ umask 077\n\n# 2. Generate your private key\nadmin@mesh-box:~$ wg genkey &gt; my-wireguard-key\n# This value is private, keep it well-protected!\nadmin@mesh-box:~$ cat my-wireguard-key\nsGg9iLeI2hKbOER69FkhBuE2vA76CaEPsIPrJH7nGGI=\n\n# 3. Compute the corresponding public key and save it to a file\nadmin@mesh-box:~$ wg pubkey &lt; my-wireguard-key &gt; my-wireguard-key.pub\nadmin@mesh-box:~$ cat my-wireguard-key.pub\njwzXfKcgdbKaHWSSUnypOqnmX1hFk8vIGvYJ1mTIaw4=\n\n# 4. Generate a new preshared key that we will use to enhance the security of our connection\nadmin@mesh-box:~$ wg genpsk &gt; my-wireguard-psk\nadmin@mesh-box:~$ cat my-wireguard-psk\nPDUMexbCPGwHCdyhdu09yyCeO5n0b/ww+BeWN7XGSWw=\n</code></pre> <p>At this stage, you have now produced:</p> <ul> <li>A private key that will never leave your machine. Instead, it will use this key to authenticate itself with the remote Wireguard server.</li> <li>A public key that we will share with the remote Wireguard server and use to register your machine as a client.</li> <li>A preshared key that adds extra resilience to the security of the Wireguard connection, and it's easy to incorporate.</li> </ul> <p>Our two remaining goals are to:</p> <ul> <li>Add a configuration to your remote Wireguard server that allows your new client to connect.</li> <li>Add a configuration to your local Wireguard instance that allows you to connect to your server.</li> </ul>"},{"location":"guides/infrastructure-admin/add-wireguard-users/#wireguard-server-configuration","title":"Wireguard Server Configuration","text":"<p>On your RouterOS interface, login with your administrator credentials, switch to the <code>Advanced</code> view in the top right if needed, navigate to the <code>Wireguard</code> menu, and click the <code>Peers</code> button:</p> <p></p> <p>Next, click <code>New</code>, and fill out the form as follows, providing the public key and preshared key, but leaving the private key blank. The <code>Allowed Address</code> needs to be assigned to one of the IP addresses in the Wireguard server's IP range that is not currently used by any other client. In this case, <code>10.100.0.3/32</code> was available.</p> <p></p> <p>Hit <code>Apply</code>, and the new peer will be added to the Wireguard Server's list of peers.</p>"},{"location":"guides/infrastructure-admin/add-wireguard-users/#generating-a-wireguard-client-configuration","title":"Generating a Wireguard Client Configuration","text":"<p>If you are just trying to connect to Mesh infrastructure using Wireguard, you can ask someone with permissions to generate a configuration file for you. These instructions cover how to generate the configuration from within the RouterOS administration interface on the remote device.</p> <p>Next, we need to generate the configuration file. Luckily, we can use the RouterOS peer menu to do this as well. On the lower end of our same peer configuration, there is a section to fill out <code>Client</code> information. A minimal example is shown below:</p> <p></p> <p>The following things should be considered as you're completing your client configuration:</p> <ul> <li>The <code>Endpoint</code> should be configured (via a DNS hostname, a static IP address, etc) to tell your computer \"where is the server located?\" when it tries to connect. For many mesh endpoints, we have public IPv4 addresses that we are assigned from our upstream network provider and use those.</li> <li>If you want to route DNS requests to a host on this network, set the <code>Client DNS</code> to a host that can handle them on this network.</li> <li>Pay attention to the CIDR suffix we're giving to the address in the Client configuration. We are specifying the same IP address as above, but we would like to allow a larger pool of network traffic through our interface (<code>/24</code> subnet vs <code>/32</code> subnet).</li> <li>You will need to replace the empty \"AAAAAAA\" PrivateKey with your real one because we didn't fill out the private key in the section above.</li> <li>Finally, you may wish to make changes to the <code>AllowedIPs</code> to not route all your network traffic over this interface but rather only specific subnets.</li> </ul> <p>You can now either copy and paste the generated configuration text into a text file, dump it directly into an <code>Empty Tunnel</code> in your Wireguard desktop application, or scan the QR code from your mobile device.</p>"},{"location":"guides/infrastructure-admin/add-wireguard-users/#other-example-wireguard-client-configurations","title":"Other Example Wireguard Client Configurations","text":"<p>If you don't have access to the MikroTik router to generate a configuration file, here is a template that can be used that is otherwise largely equivalent to what MikroTik generates:</p> <pre><code>[Interface]\nListenPort = 51820\nPrivateKey = PLACEHOLDER FOR PRIVATE KEY\n# Client address - change me\nAddress = 10.100.0.X/32\n# Route DNS lookups to the mesh to resolve \"website.mesh\" URLs\nDNS = 10.69.0.49\n\n[Peer]\nPublicKey = Bq/1UiT1+3+kCGze5BsZrVfmRVnrH0uFHJeOYShmNzs=\nAllowedIPs = 0.0.0.0/0, ::/0\nEndpoint = 204.17.32.58:13212\nPresharedKey = PLACEHOLDER FOR PRESHARED KEY\n</code></pre> <p>If your client device is a systemd-based Linux laptop or something similar (or at least uses systemd-resolved for DNS), and you want a fancier config that doesn't store keys directly in the file, you can use a setup like this. See <code>man 8 wg</code> and <code>man 8 wg-quick</code> for more information: It has the benefit that your private key and psk don't need to be hardcoded into your configuration file and are instead loaded from disk.</p> <pre><code>[Interface]\n# Client address - change me\nAddress = 10.100.0.X/32\n# Set private key by reading from a file in /etc/wireguard/tucsonhouse/private\nPostUp = wg set %i private-key /etc/wireguard/tucsonhouse/private\n# Set PSK - this command needs to have the pubkey of your peer specified as well\n# PSK is read from /etc/wireguard/tucsonhouse/psk\nPostUp = wg set %i peer Bq/1UiT1+3+kCGze5BsZrVfmRVnrH0uFHJeOYShmNzs= preshared-key /etc/wireguard/tucsonhouse/psk\n# Route DNS lookups for ONLY .mesh domains through to 10.69.0.49\nPostUp = resolvectl dns %i 10.69.0.49; resolvectl domain %i ~mesh\n\n[Peer]\nEndpoint = 204.17.32.58:13212\n# By default, 0.0.0.0/0 routes ALL of your traffic over this interface (you use the mesh as a full \"VPN\")\n# AllowedIPs = 0.0.0.0/0\n# If you want a more nuanced configuration that only routes mesh-specific IP addresses over the tunnel and leaves the rest of your traffic alone, you can do something like this:\nAllowedIPs = 10.100.0.0/24, 10.69.0.0/16, 10.96.0.0/16, 10.10.10.0/24\nPublicKey = Bq/1UiT1+3+kCGze5BsZrVfmRVnrH0uFHJeOYShmNzs=\n</code></pre> <p>If you put this configuration file in <code>/etc/wireguard/wg-tucsonhouse.conf</code>, you can activate the configured Wireguard interface with the command <code>sudo wg-quick up wg-tucsonhouse</code>.</p>"},{"location":"guides/installation/","title":"Installation","text":""},{"location":"guides/installation/#why-become-an-installer","title":"Why become an installer?","text":"<ul> <li>New skills</li> <li>Camaraderie and community-building</li> <li>Expand the network</li> <li>Get outside and enjoy some nice views!</li> <li>See the joy on a new member\u2019s face when they get connected!</li> </ul>"},{"location":"guides/installation/#install-team-members","title":"Install team members","text":""},{"location":"guides/installation/#install-coordinator","title":"Install Coordinator","text":"<ul> <li>Member of the admin group </li> <li>Confirms additional installers over the installer Signal thread</li> <li>Point of contact for the Installee Member</li> <li>Plans the install</li> <li>Updates the Trello card for the install/node </li> <li>Assembles equipment</li> <li>Delegates and teaches tasks during the install</li> <li>Maintains a positive, respectful and inclusive attitude</li> <li>Watches out for the team\u2019s safety</li> <li>Carries out post-install tasks</li> </ul>"},{"location":"guides/installation/#installers","title":"Installers","text":"<ul> <li>1-3 on typical residential installs</li> <li>State interest in joining the install on the installer Signal thread</li> <li>Show up on time and stay the length of the install</li> <li>Bring additional equipment if requested</li> <li>Support the Install Leader</li> <li>Take initiative during the install</li> <li>Maintain a positive, respectful attitude</li> </ul>"},{"location":"guides/installation/#installee-member","title":"Installee Member","text":"<ul> <li>At home for the duration of the install</li> <li>Ensures a safe route to the roof</li> <li>Lets the Installers do their work without too much distraction</li> <li>Provides help to the install team if willing, able and requested to do so</li> </ul>"},{"location":"guides/installation/#install-process","title":"Install process","text":"<ol> <li>Signup</li> <li>Pre-Install</li> <li>Install</li> <li>Post-Install</li> </ol>"},{"location":"guides/installation/#connecting-with-tucson-mesh-form","title":"Connecting with Tucson Mesh form","text":"<p>All installs begin with a prospective Installee Member filling out the Get Connected form on the Get Involved page of the Tucson Mesh website.</p>"},{"location":"guides/installation/#trello-card-communication","title":"Trello card communication","text":"<p>Once the Installee Member fills out the Connecting with Tucson Mesh form, a Trello card is created in the Mesh Installs board. If it is within our range, it goes into the \u201cReady for Contact &amp; Survey\u201d list.</p>"},{"location":"guides/installation/#checking-line-of-site","title":"Checking line of site","text":"<p>To get connected, the prospective Installee Member must have a line of sight (LOS) to a nearby supernode or node with an omnidirectional router.</p> <p>The best way to confirm LOS is to do a site survey. Before the site survey, the Install Coordinator can use Google Maps &amp; Google Earth to verify likely LOS.</p> <p>You can use Google Earth to check line of sight between two locations by following the steps in this guide: Guide to Google Earth.</p> <p>Note that this method is only as accurate as the most recent satellite photos on Google Earth.</p>"},{"location":"guides/installation/#site-survey","title":"Site survey","text":"<p>If it seems like you are likely to have LOS from Google Earth, move ahead to do a site survey.</p> <p>The Install Coordinator will contact the Installee Member to set up a site survey.</p> <p>Make sure you bring the following equipment:</p> <p>Pre-configured routers or the \"Staff of Mesh\":</p> <p></p> <ul> <li>OmniTIK</li> <li>SXTsq</li> <li>LiteBeam</li> </ul> <p>As well as:</p> <ul> <li>Portable battery pack</li> <li>A computer</li> <li>An ethernet adapter for the computer if the computer doesn't have a built-in ethernet port </li> <li>PoE injector for each router</li> <li>Ethernet patch cord</li> <li>Binoculars</li> <li>Ladder or other means of roof access</li> </ul> <p>Follow these instructions to check if the signal is strong enough from the Instalee Member\u2019s roof. </p> <p>You are aiming for a signal that is stronger than -65 dB signal.</p> <p>Make sure to:</p> <ul> <li>Take plenty of pictures of the roof and panoramic pictures surrounding the roof.</li> <li>Verify cable passes to the indoors.</li> <li>Find optimal locations to affix the routers to the roof and what type of mounting hardware will be required.</li> <li>Take a moment to discuss with the Installee what kind of mounting equipment they are comfortable with and options including non-penetrating roof mounts, vent mounts, and J-mounts.</li> </ul>"},{"location":"guides/installation/#router-selection","title":"Router selection","text":"<p>Determine which router(s) you need to connect to a nearby gateway node.</p> <p></p> <p>Point-to-multipoint routers such as the LiteBeam or SXTsq transmit over a long distance but have a narrow beam.</p> <p>Omnidirectional routers, such as the OmniTIK transmit a signal over a shorter distance but in all directions. </p> <p>We often install a LiteBeam and OmniTIK together.</p> <p></p> <p>This ensures a strong connection to the Supernode while also providing omnidirectional coverage to the surrounding blocks.</p> <p>The LiteBeam only has one port. The OmniTIK has five, allowing us to run cable to multiple apartments.</p> <p>For OmniTIK-to-OmniTIK connections, we also sometimes add an SXT to boost the signal.</p> <p></p>"},{"location":"guides/installation/#configuration","title":"Configuration","text":"<p>Configure the outdoor routers at home. Up-to-date instructions are available in the Configuring Routers Guide</p> <p>It may also be helpful to cross reference NYC Mesh\u2019s config docs.</p> <p>Save offline copies of the config instructions on your laptop for easy reference while on site.</p>"},{"location":"guides/installation/#install-plan","title":"Install plan","text":"<p>Once you have done a site survey and have the required routers configured, you may want to develop an install plan before heading to the Installer\u2019s home.</p> <p></p> <p>In your install plan, consider including:</p> <ul> <li>Installee Member name, address and phone number</li> <li>Google Earth screenshots for orienting myself on the roof</li> <li>Order of operations (especially for non-typical installs)</li> <li>Equipment checklist</li> <li>Router login information and passwords that are in Tucson Mesh\u2019s password store </li> <li>Ethernet cable diagram</li> </ul>"},{"location":"guides/installation/#install-confirmation","title":"Install confirmation","text":"<p>Confirm a date with the installer and invite any potential volunteers/installers in training to join you at the install. </p> <p>A few days before the install, check the weather. </p> <p>The day before the install, send a text to the Installee Member confirming the install (or postponing it if bad weather is predicted). </p> <p>Also send a reminder Signal message in the installers thread to confirm the install and remind any potential Installers in training. </p>"},{"location":"guides/installation/#getting-to-the-site","title":"Getting to the site","text":"<p>Meet at the BCC to collect supplies.</p> <p>Transport equipment in your car. You will need a car that is able to transport a ladder to the site.</p> <p>Bags are provided to more easily transport equipment up and down ladders on site.</p>"},{"location":"guides/installation/#install","title":"Install","text":""},{"location":"guides/installation/#typical-setup","title":"Typical setup","text":"<ol> <li>Omnidirectional router</li> <li>Point-to-point router</li> <li>Router mount</li> <li>Ethernet cable connecting routers</li> <li>Ethernet cable to main apartment</li> <li>Ethernet cable to additional apartment</li> <li>Hole in wall or window frame</li> <li>Power over Ethernet injector</li> <li>Indoor router</li> <li>Device</li> </ol>"},{"location":"guides/installation/#indoor-survey","title":"Indoor survey","text":"<p>After introducing yourself and the team, set down your equipment in a staging area. </p> <p>Discuss with the Installee Member:</p> <ul> <li>Where they would like to locate their indoor router </li> <li>What cable pass methods are acceptable to them to get into the home</li> <li>What methods are appropriate for affixing the routers to the roof (you should have gone over this during the site survey)</li> <li>Possible cable runs down to the apartment</li> </ul>"},{"location":"guides/installation/#rooftop-survey","title":"Rooftop survey","text":"<p>Ask the Installee Member to point out any hazards before going up to the roof. </p> <p>Once on the roof, identify and point out any safety risks to the team, including trip and slip hazards, loose cables and unprotected ledges.</p> <p>Make sure you follow the Ladder Safety Protocols.</p> <p>For more comprehensive rooftop safety guidance, please read NYC Mesh's site safety documentation.</p> <p>If conditions are too unsafe, or become unsafe due to the weather changing or darkness falling, end the install.</p> <p>Locate the supernode.</p> <p>Sometimes the node can be hard to see because it is far away.</p> <p>You may need to use binoculars to find the pole.</p> <p>Plan the mounting location and cable run. Consider the following:</p> <ul> <li>Is there a direct line of sight to the supernode?</li> <li>Are there good lines of sight to the surrounding neighborhood?</li> <li>Is there an existing mast sturdy enough to mount to?</li> <li>Will the router or cabling be in anyone\u2019s way in the future?</li> <li>Will the router be easily accessible for maintenance?</li> <li>What is the most efficient cable route to the house?</li> </ul>"},{"location":"guides/installation/#signal-testing","title":"Signal testing","text":""},{"location":"guides/installation/#pairing-a-ubiquiti-litebeam-router","title":"Pairing a Ubiquiti LiteBeam Router","text":"<p>Complete instructions are in the Configuring Routers Guide.</p> <ol> <li>Turn on the portable battery and plug in the POE injector.</li> <li>Insert one end of a patch cable into the POE power+data port and the other end into the router.</li> <li>Aim the router towards the supernode.</li> <li>Connect to the router\u2019s local wifi SSID on your computer.</li> <li>Navigate to the router\u2019s GUI in your web browser and attempt to pair.</li> <li>To connect to the node gateway, you must get a signal strength closer to 0 dB than -79 dB. Any lower than -79 dB and you should terminate the install.</li> </ol>"},{"location":"guides/installation/#pairing-an-omnitik-router","title":"Pairing an OmniTIK Router","text":"<p>Complete instructions are in the Configuring Routers Guide.</p> <ol> <li>Turn on the portable battery and plug in the POE injector.</li> <li>Insert one end of a patch cable into the POE power+data port (not the data only port!) and the other end into port 1 of the router.</li> <li>The OmniTIK will automatically pair with other OmniTIKs in range.</li> <li>Connect to the OmniTIK\u2019s public wifi or node wifi SSID from your computer or phone and do a speed test.</li> </ol>"},{"location":"guides/installation/#mounting","title":"Mounting","text":"<p>Do not drill into anything until you have confirmed that you are able to connect!</p> <p>There are numerous ways to mount the routers, including:</p> <ul> <li>Existing mast, pipe or railing</li> <li>New J-pipe mounted to surface</li> <li>New pipe connected to existing pipe</li> <li>New mast</li> <li>Existing window guard</li> <li>Improvise</li> </ul>"},{"location":"guides/installation/#existing-mast-pipe-or-railing","title":"Existing mast, pipe or railing","text":"<p>This is the fastest and easiest mounting technique.</p> <p></p> <p></p> <p></p> <ol> <li>Select an appropriately- sized pipe clamp. </li> <li>Thread the pipe clamp through the router mount.</li> <li>Tighten the pipe clamp using a screwdriver or drill on screw setting.</li> </ol> <p>Don\u2019t obstruct a fire escape or other means of egress!</p>"},{"location":"guides/installation/#new-j-pipe-mounted-to-surface","title":"New J-pipe mounted to surface","text":"<p>We use this mounting method on around half of all installs.</p> <p> </p> <ol> <li>Mark and drill at least four mount pilot holes in the surface.</li> <li>Insert cement anchors and sealant. </li> <li>Attach the mount with the screws and washers with rubber.</li> <li>Attach the J arm to the mount with the provided bolts.</li> <li>Attach the router with a pipe clamp.</li> </ol>"},{"location":"guides/installation/#new-pipe-connected-to-existing-pipe","title":"New pipe connected to existing pipe","text":"<p>This method can be used to extend the height of an existing pipe or to provide better vertical or horizontal alignment.</p> <p></p> <p></p> <p></p>"},{"location":"guides/installation/#new-mast","title":"New mast","text":"<p>Masts can be free-standing if secured by cinder blocks or sandbags, or can be attached to a wall. Guy wires can be used to increase stability.</p> <p>This is a less common mounting method, requiring more advance prep.</p> <p></p> <p></p> <p>Do not mount the router upside down! If you do, water will drain into the Ethernet port.</p>"},{"location":"guides/installation/#drilling","title":"Drilling","text":"<p>Use a carbide tip bit for masonry and concrete.</p> <p>Use a cobalt or titanium tip bit for metal and wood.</p> <p></p> <p>Tips and tricks:</p> <ul> <li>Wear safety glasses!</li> <li>Brick is much easier to drill in than concrete.</li> <li>Mark the hole depth on the drill bit with a piece of electrical tape.</li> <li>Drill straight into the surface, making sure that the bit does not arc.</li> <li>Apply WD-40 to metal as you drill for faster results.</li> <li>The drill bit gets hot! Let it cool down after removing from the hole.</li> </ul> <p>Do not drill holes into the horizontal roof surface or water might leak in. Roofs are meant to be watertight!</p> <p>If you drill into a horizontal concrete or brick surface, make sure to fill the hole with sealant!</p>"},{"location":"guides/installation/#aligning","title":"Aligning","text":""},{"location":"guides/installation/#ubiquiti-routers","title":"Ubiquiti Routers","text":"<p>The Ubiquiti dashboard and app include an alignment tool. Adjust the max signal level and turn on the Audio Indicator. The higher the tone, the stronger the signal. Rotate the router in small increments to hone in on the best alignment.</p>"},{"location":"guides/installation/#omnitik","title":"OmniTIK","text":"<p>An OmniTIK is omnidirectional and does not need to be aligned.</p>"},{"location":"guides/installation/#sxt","title":"SXT","text":"<p>There is no alignment tool. Adjust manually as best you can.</p>"},{"location":"guides/installation/#connecting-routers","title":"Connecting routers","text":"<p>When installing both a LiteBeam and an omnidirectional Omnitik router, connect the two with a short outdoor Ethernet patch cable. </p> <p>Save time by crimping the patch cable at home before the install (see Install: Crimping).</p> <p>Do not use an indoor Ethernet cable!</p>"},{"location":"guides/installation/#cable-run","title":"Cable run","text":"<p>Pull out the entire length of cable you need along the exact path it will follow and add extra length for service loops.</p> <p>Provide a service loop (2-3 loops) on both ends of the cable. Tie it with a ziptie and hang it or tuck it away neatly.</p> <p></p> <p>Do not bend the cable too sharply. Maintain at least a 3\u201d curve radius.</p> <p>Ziptie or nail in cable clips to the cable along its path to secure it to the mount, railings, hooks, existing cables, etc. and keep it out of the way of future roof occupants.</p> <p></p> <p></p>"},{"location":"guides/installation/#cable-pass","title":"Cable pass","text":"<p>There are a number of ways to pass the cable into an apartment:</p> <ul> <li>Existing cable pass or conduit</li> <li>Defunct coaxial cable hole</li> <li>New hole in window frame</li> <li>New hole in wall</li> </ul> <p>Make sure that you discuss and get the Installee Member\u2019s approval before any drilling!</p>"},{"location":"guides/installation/#existing-cable-pass-or-conduit","title":"Existing cable pass or conduit","text":"<ol> <li>Pop off the faceplate or remove with a screwdriver.</li> <li>Push or pull the cable through.</li> <li>Reattach the faceplate.</li> </ol>"},{"location":"guides/installation/#defunct-coaxial-cable-hole","title":"Defunct coaxial cable hole","text":"<ol> <li>Cut the coaxial cable on the outside of the wall, leaving a few inches sticking out.</li> <li>Strip the coaxial cable down to the inner copper wire.</li> <li>Strip the plastic casing off the end of the Ethernet cable.</li> <li>Twist the coaxial copper wire and Ethernet wires together securely.</li> <li>Pull the coaxial cable on the inside of the wall, towing the Ethernet cable with it through the hole.</li> </ol>"},{"location":"guides/installation/#new-hole-in-metal-window-frame","title":"New hole in metal window frame","text":"<ol> <li>Decide on a hole location at the bottom left or right corner of the frame.</li> <li>Insert a cobalt bit and put the drill on drill (not hammer drill!) mode.</li> <li>Put on safety glasses.</li> <li>Slowly drill into the metal.</li> <li>Sweep up the metal shavings.</li> <li>Lay weather strip along the ledge under the bug screen.</li> <li>Pass the cable through the hole.</li> </ol>"},{"location":"guides/installation/#crimping-cable","title":"Crimping cable","text":"<p>Crimp RJ-45 connectors onto the ends of the Ethernet cable so they can be inserted into the routers and POE injector.</p> <p>The best way to learn how to crimp is with an experienced installer, but you can NYC Mesh also as an instructional video.</p> <p></p> <ol> <li>Strip 1.5\u201d of sheathing with the cable stripper.</li> <li>Peel away the foil and clear plastic.</li> <li>Bend the ground wire down.</li> <li>Untwist the wire pairs.</li> <li>Straighten the wires by running them against the edge of a hand tool.</li> <li>Arrange the wires in the order shown and jiggle to align.</li> <li>Trim the wires.</li> <li>Slide the wires all the way into the connector. Make sure the black sheathing goes inside.</li> <li>Crimp with the crimp tool!</li> <li>Wind the ground wire through the loop and pinch closed. </li> </ol>"},{"location":"guides/installation/#testing-cable","title":"Testing cable","text":"<p>You can use a cable tester to see if you\u2019ve crimped correctly. </p> <p>Unfortunately, these testers frequently break. Before testing your crimped cable, test an indoor patch cable to ensure the tester is in good working order.</p> <ol> <li>Detach the two sides of the tester and connect each to either end of the cable.</li> <li>Switch the tester on (larger part) and check both sides. The numbers should light up in order.</li> <li>Recrimp the cable if it fails.</li> </ol>"},{"location":"guides/installation/#indoor-router-setup","title":"Indoor Router Setup","text":"<p>We provide an inexpensive TP-Link indoor router on all volunteer-led installs. The bandwidth and range of this router is limited.</p> <p>If the Installee Member has a large home, they may need to purchase a more powerful router or home wifi system.</p> <p>Connect the TP-Link, POE injector and cabling as shown. </p> <p></p> <p>If using only a Ubiquiti rooftop router, use the Ubiquiti POE injector. If using an OmniTIK (with or without a Ubiquiti router), use the OmniTIK POE injector.</p> <p>If possible, plug the TP-Link AC adapter and the rooftop router's POE injector into a power strip with a surge protector. </p> <p>You can also connect the Data (LAN) cord to the WAN port.</p> <p>Here\u2019s a photo of all of the indoor equipment, including an OmniTIK POE injector, connected together.</p> <p></p> <p>A power strip with a surge protector is not shown but is recommended.</p> <p>You can also connect the Data (LAN) cord to the WAN port.</p> <p>\u26a0\ufe0f Do not connect the TP-Link WAN port to the POE Power+data port or it will fry the router!</p> <p>Using the instructions in the box, set up the TP-Link.</p> <p>Locate the TP-Link\u2019s SSID and default password on the bottom of the router and connect wirelessly using your laptop. </p> <p>You should now be connected to the Internet! Hooray!</p> <p>Run an Ookla speed test and take a screenshot.</p> <p>Configure the TP-Link following the instructions in the NYC Mesh docs. </p> <p>Ask the Installee member to provide you with:</p> <ul> <li>An SSID name and password for their primary wireless network.</li> <li>A username and password to log into the router.</li> </ul> <p>Note these down on the Installee Member Form and give it to them for safe keeping.</p>"},{"location":"guides/installation/#troubleshooting","title":"Troubleshooting","text":"<p>If you are not able to connect to the Internet, troubleshoot starting at the end of the signal path and working your way \u201cupstream.\u201d</p> <p></p>"},{"location":"guides/installation/#payment","title":"Payment","text":""},{"location":"guides/installation/#hardware-fee-monthly-donation","title":"Hardware Fee + Monthly Donation","text":"<p>Guide the Installee Member to the Tucson Mesh donation page</p> <p>We suggest that people donate between $10-60 every month (or however much they can).</p> <p></p> <p>If they are able, they can also do a one-time $200 donation for the equipment on their roof.</p> <p></p> <p>Ask them if they have any questions on how to do this donation.</p>"},{"location":"guides/installation/#photos","title":"Photos","text":"<p>Take photos of the install team, the happy Installee Members with their new equipment (ask permission to post on social media) and the equipment setup.</p> <p>Don\u2019t wait until the end of the install - take photos as you go to document the process and get some good action shots.</p>"},{"location":"guides/installation/#cleanup","title":"Cleanup","text":"<p>Tidy as you go and do a final cleanup. Make sure that you have swept up all cable ends, metal shards, bits of plastic, etc. A $1 paintbrush works great for sweeping up small debris.</p> <p>Bring a plastic bag or two to collect and dispose of trash. Toss cardboard packaging in the recycling bin.</p> <p>Pack up all of your equipment.</p>"},{"location":"guides/installation/#promote-the-mesh-locally","title":"Promote the mesh locally","text":"<p>Drop off some flyers around the building and around the block</p> <p>Do a final sweep to make sure you haven\u2019t forgotten anything!</p>"},{"location":"guides/installation/#post-install","title":"Post-install","text":""},{"location":"guides/installation/#update-the-trello-board","title":"Update the Trello board","text":"<p>In the Trello card for the installed node, post:</p> <ul> <li>Speed test results</li> <li>Technical photos</li> <li>Names of the install team members</li> </ul>"},{"location":"guides/installation/#update-inventory","title":"Update inventory","text":"<p>Make a shopping list of equipment you need to replenish.</p>"},{"location":"guides/realignment/","title":"Realignment","text":"<p>How can this documentation be improved?</p> <ul> <li>Clarify whether it makes sense to adjust the LiteBeam horizontally or vertically first.</li> <li>Update to reflect realignment from BICAS to Tucson House, especially how to pick which sector router to connect to.</li> <li>Incorporate a protocol for people to get their own login for the LiteBeam's admin interface.</li> <li>Figure out what to do if someone needs to move the mount and update the cable run</li> </ul> <p>This is a draft guide to help users and installers realign the LiteBeam device on a home rooftop with the supernode at Tucson House.</p>"},{"location":"guides/realignment/#overview","title":"Overview","text":"<p>There are a few broad stages to the realignment process. Even if you get stuck, completing the previous stage will make it easier for others to help you finish the rest.</p> <ul> <li>Gather materials: Get the materials you will need to complete the other steps. This includes physical things like a ladder, software and login information for the rooftop routers. </li> <li>Use maps to find the supernode and check the line of sight: Before getting on your roof, use web maps to know where the supernode is located relative to your home. Optionally, check for any major obstructions using GIS software.</li> <li>Physical check the line of sight: Climb on your roof and look for obstructions between the router and the supernode. Would the line of sight be better if the router were mounted at a different place on the roof?</li> <li>Adjust the router for the best signal strength: Connect to your router's administrative interface to monitor the signal strength. Rotate the router to get the strongest signal and tighten everything down. </li> </ul>"},{"location":"guides/realignment/check-los-physical/","title":"Check the line of sight","text":""},{"location":"guides/realignment/check-los-physical/#get-on-the-roof","title":"Get on the roof","text":"<p>Carefully climb up on your roof. Be sure to observe the ladder safety guidelines.  </p>"},{"location":"guides/realignment/check-los-physical/#find-the-litebeam","title":"Find the LiteBeam","text":"<p>Walk to where your LiteBeam is currently installed. Be sure to watch out for uneven surfaces, conduit, cables or anything else that could cause you to trip.</p> <p></p>"},{"location":"guides/realignment/check-los-physical/#check-the-line-of-sight_1","title":"Check the line of sight","text":"<p>Standing next to the LiteBeam, orient yourself to face Tucson House.</p> <p></p> <p>From this position, check to see if you have a clear line of sight to the top of the building where the white masts are installed. If you have binoculars, they can help locate the masts.</p> <p>Check for any large obstructions blocking your view of the masts such as buildings, trees, power lines or poles.</p> <p></p> <p>If you have a clear line of sight, proceed to the next section of this guide.</p>"},{"location":"guides/realignment/check-los-physical/#if-the-line-of-sight-isnt-clear","title":"If the line of sight isn't clear","text":"<p>If you do not have a clear line of sight from where the LiteBeam is currently installed, is there another area on your roof with a better line of sight where the equipment could potentially be moved?  </p> <p></p> <p>Take photos of the following:  </p> <ul> <li>Location where the LiteBeam is currently located. </li> <li>The view from where the LiteBeam is located looking toward Tucson House.</li> <li>The location that seems to have a better line of site to Tucson House, being sure to show where the antenna mount could be installed.  </li> <li>The view from the better location looking toward Tucson House.</li> </ul> <p>Send the photos along with any additional details that could help others interpret them, such as \"the router is currently on the northwest corner of the roof.\" Be sure to include your network number in the message.</p> <p>Send the photos and additional information either as a message to the #user-support channel in the Tucson Mesh Slack or as an email to support@tucsonmesh.net.   </p> <p>If you do not have a clear line of sight from where the LiteBeam is currently installed, it is still worth attempting to realign the device toward the masts on Tucson House. Although the connection may not be optimal, it may be strong enough to meet your needs and avoid the need to relocate the equipment.</p>"},{"location":"guides/realignment/check-los-software/","title":"Use mapping tools to plan your realignment","text":""},{"location":"guides/realignment/check-los-software/#orient-yourself-to-the-supernode","title":"Orient yourself to the supernode","text":"<p>Before climbing on your roof, use mapping software to figure out the direction of the supernode from your home.</p> <p>This will help you know which direction to look from your rooftop to check the line of sight. It will also help give you an idea of which wireless network to connect to for the strongest signal.</p>"},{"location":"guides/realignment/check-los-software/#tucson-house","title":"Tucson House","text":"<p>Tucson House is located at 1501 N Oracle Rd, Tucson, AZ 85705.</p> <p>View a pin on Google Maps or OpenStreetMap.</p>"},{"location":"guides/realignment/check-los-software/#bicas","title":"BICAS","text":"<p>BICAS is located at 2001 N 7th Ave, Tucson, AZ 85705.</p> <p>View a pin on Google Maps or OpenStreetMap.</p>"},{"location":"guides/realignment/check-los-software/#virtually-check-your-line-of-sight","title":"Virtually check your line of sight","text":"<ul> <li>Confirm the exact location of the LightBeam is on the rooftop.</li> <li>Check line of sight between the LightBeam and the supernode using Google Earth. To do this, follow the instructions at Guide to Google Earth.</li> <li>Note landmarks for helping to align the supernode. Idenfity specific buildings, trees, etc, to avoid so that you can get the clearest line of sight to the supernode.</li> </ul>"},{"location":"guides/realignment/gather-materials/","title":"Realignment: Gather required materials","text":"<p>Before you start the realignment, make sure that you have the following equipment and information:</p> <ul> <li>The \"network number\" of your node.<ul> <li>You can use your computer or phone to scan for visible wireless networks. If you see one that looks like <code>tucsonmesh-65-omni</code>, the number in this network name, i.e. <code>65</code> in this example, is your network number.</li> <li>If you don't know your number, you can ask on the #user-support channel of the Slack.</li> </ul> </li> <li>Password to log into the administration interface of the LiteBeam.<ul> <li>To get a unique password for your node, send a message to #user-support channel of the Slack, or email support@tucsonmesh.net. Be sure to include your network number in the message.</li> </ul> </li> <li>Pre-shared key (PSK) for connecting to supernode networks.<ul> <li>The \"pre-shared key\" will act as a password between the router on your rooftop and the supernode. If you are realigning to a new supernode (from BICAS to Tucson House, for example) you will need the new pre-shared key. </li> <li>To get this key, send a message to #user-support channel of the Slack, or email support@tucsonmesh.net. Be sure to include your network number in the message.</li> </ul> </li> <li>Ladder to access rooftop.</li> <li>Laptop computer or mobile phone with WiFi capabilities and a web browser.</li> <li>Google Earth: If you want to do a preliminary check of the line of site from your rooftop to the supernode, you can use Google Earth Pro on desktop.</li> <li>Binoculars (optional): It's much easier to check line of site with a pair of binoculars.</li> </ul>"},{"location":"guides/realignment/realign-litebeam-uisp-app/","title":"Realign your LiteBeam using the UISP mobile app","text":"<p>How can this documentation be improved?</p> <ul> <li>Make sure these instructions match the ones using the browser interface</li> </ul> <p>For these steps, you'll need to be on your roof. Be sure to observe the ladder safety protocols, when climbing up to your roof.</p> <p>It's also helpful to have two people, both for ladder safety and later, so one person can adjust the angle of the device and the other can monitor the signal strength.</p> <p>Using your device's browser</p> <p>These instructions use the UISP mobile app to administer your LiteBeam. If you find it easier to use your device's web browser to access the admin interface for your LiteBeam, you can find instructions here.</p>"},{"location":"guides/realignment/realign-litebeam-uisp-app/#1-review-related-documentation","title":"1. Review related documentation","text":"<p>It's helpful to review these other pieces of documentation that are referenced throughout this guide. </p> <ul> <li>LBE-5AC-Gen2 Quick Start Guide: This has images of the different parts of the LiteBeam device and has the names Ubiquiti uses for the different parts.</li> </ul>"},{"location":"guides/realignment/realign-litebeam-uisp-app/#2-connect-to-the-litebeams-management-network","title":"2. Connect to the LiteBeam's management network","text":"<ul> <li>Unplug the ethernet cable from the LightBeam. Wait a few seconds and plug the ethernet cable back in. This will restart the device.</li> <li>Once the LightBeam powers up, a blue light will appear on the bottom of the router's Antenna Feed and a wireless management network will become available. This network has an SSID that begins with <code>LBE-5AC-Gen2</code>, for example <code>LBE-5AC-Gen2:245A4CD44286</code>.</li> <li>Connect to this wireless network on your computer or mobile phone as you would any other WiFi network.</li> </ul>"},{"location":"guides/realignment/realign-litebeam-uisp-app/#3-log-into-the-devices-administrative-interface","title":"3. Log into the device's administrative interface","text":"<ul> <li>In the UISP mobile app, after connecting to the management network, in your phone's WiFi settings, open the UISP app and click the <code>+</code> button in the bottom menu. </li> <li>Tap the device corresponding to your network number in the <code>Devices</code> menu.</li> </ul> <ul> <li>Log in.</li> </ul>"},{"location":"guides/realignment/realign-litebeam-uisp-app/#4-connect-the-device-to-the-correct-network-for-alignment","title":"4. Connect the device to the correct network for alignment","text":"<ul> <li>Tap <code>Configuration</code> in the bottom menu.</li> <li>If you need to change it, tap <code>SELECT</code>, then tap on the new network name in the list that appears. </li> <li>Click the <code>SELECT</code> button below the <code>SSID</code> input and tab on the name of the Tucson Mesh network with the strongest signal. A signal closer to zero is stronger. I.e. -68 dBm is stronger than -70 dBm and -75 dBm is weaker. </li> </ul> <ul> <li>The network names for the Tucson House supernode are:</li> <li><code>TMTH-SW-Top-W</code></li> <li><code>TMTH-SW-Middle-SW</code></li> <li><code>TMTH-SW-Bottom-W</code></li> <li><code>TMTH-SE-Top-S</code></li> <li><code>TMTH-SE-Middle-SE</code></li> <li><code>TMTH-SE-Bottom-E</code></li> <li><code>TMTH-NW-Top-N</code></li> <li><code>TMTH-NW-Middle-NW</code></li> <li><code>TMTH-NW-Bottom-W</code></li> <li><code>TMTH-NE-Top-E</code></li> <li><code>TMTH-NE-Middle-NE</code></li> <li> <p><code>TMTH-NE-Bottom-N</code></p> </li> <li> <p>The network names for the BICAS supernode are:</p> </li> <li><code>tucsonmesh-sectortest</code></li> <li><code>tucsonmesh-sectorsouth</code></li> <li><code>tucsonmesh-sectoreast</code></li> </ul>"},{"location":"guides/realignment/realign-litebeam-uisp-app/#5-open-the-alignment-tool","title":"5. Open the alignment tool","text":"<p>Open the alignment tool and keep it open. You'll monitor this tool as you adjust the position of the LiteBeam.</p> <ul> <li>Tap <code>Tools</code> in the bottom menu.</li> </ul> <p></p> <ul> <li>Tap <code>Antenna Alignment</code> in the <code>Tools</code> menu.</li> </ul> <p></p>"},{"location":"guides/realignment/realign-litebeam-uisp-app/#6-adjust-the-litebeam-position","title":"6. Adjust the LiteBeam position","text":"<ul> <li>Loosen the wingnut on the clamp around the azimuth mount shaft. This will allow adjusting the horizontal angle of the device.</li> <li>The shaft has small ridges and the clamp has small grooves. This makes it difficult to rotate the device around the shaft, even when the clamp is loosened. The best way to rotate the device is to gently raise the device off the shaft until it is just above the shaft. Then rotate it so the next ridge and groove are aligned.</li> <li>Adjust the angle of the device one groove at a time and watch for how the signal strength changes. The alignment tool signal strength readings will lag movements of the antenna, so make small movements and wait for the admin interface signal reading to update before adjusting the position further. </li> <li>Keep in mind the landmarks you identified in Google Earth and consult any saved images from the app.</li> <li>Look for the position that makes the signal as strong as possible as shown in the web admin interface or UISP app. A signal closer to zero is stronger. I.e. -68 dBm is stronger than -70 dBm and -75 dBm is weaker </li> <li>Now loosen the wingnut on the side of the elevation mount.</li> <li>Repeat the process of adjusting the vertical angle of the device and watch how the signal strength changes. Stop at the angle with the strongest signal strength.</li> <li>Ideally you want a signal -65 dBm or stronger, but one that is at least -70 dBm will be workable.</li> <li>Tighten the wingnut for the elevation mount, then tighten the wingnut for the clamp around the azimuth mount shaft.</li> </ul>"},{"location":"guides/realignment/realign-litebeam/","title":"Realign your LiteBeam","text":"<p>For these steps, you'll need to be on your roof. Be sure to observe the ladder safety protocols, when climbing up to your roof.</p> <p>It's also helpful to have two people, both for ladder safety and later, so one person can adjust the angle of the device and the other can monitor the signal strength.</p> <p>Using the UISP mobile app</p> <p>These instructions use your device's web browser to access the admin interface for your LiteBeam. If you find it easier to use the UISP mobile app, you can find instructions here.</p>"},{"location":"guides/realignment/realign-litebeam/#1-review-related-documentation","title":"1. Review related documentation","text":"<p>It's helpful to review these other pieces of documentation that are referenced throughout this guide. </p> <ul> <li>LBE-5AC-Gen2 Quick Start Guide: This has images of the different parts of the LiteBeam device and has the names Ubiquiti uses for the different parts.</li> </ul>"},{"location":"guides/realignment/realign-litebeam/#2-connect-to-the-litebeams-management-network","title":"2. Connect to the LiteBeam's management network","text":"<ul> <li>Unplug the ethernet cable from the LightBeam. Wait a few seconds and plug the ethernet cable back in. This will restart the device.</li> <li>Once the LightBeam powers up, a blue light will appear on the bottom of the router's Antenna Feed and a wireless management network will become available. This network has an SSID that begins with <code>LBE-5AC-Gen2</code>, for example <code>LBE-5AC-Gen2:245A4CD44286</code>.</li> <li>Connect to this wireless network on your computer or mobile phone as you would any other WiFi network.</li> <li>Once you are connected to this network the device you are using will no longer be able to access the internet! Make sure you have any pages you will need to reference loaded in advance, have another device available that is connected to the internet, or be prepared to switch back and forth between the LiteBeam's management network and another network with internet access. </li> </ul>"},{"location":"guides/realignment/realign-litebeam/#3-log-into-the-devices-administrative-interface","title":"3. Log into the device's administrative interface","text":"<ul> <li>Visit https://192.168.172.1 in your browser. You may be met with a warning due to the self-signed SSL certificate used for the connection. Bypass this warning. </li> </ul> <ul> <li>This will bring you to the administration interface.</li> <li>Use the admin username and password you recieved from Tucson Mesh Admin to log into the administration interface.</li> </ul> <ul> <li>Log in.</li> </ul>"},{"location":"guides/realignment/realign-litebeam/#4-connect-the-device-to-the-correct-network-for-alignment","title":"4. Connect the device to the correct network for alignment","text":"<ul> <li>Once you've loaded the web administration interface, click on the <code>WIRELESS</code> icon in the left hand menu. The icon looks like a WiFi symbol. This should take you to the <code>Basic Wireless Settings</code> page.</li> </ul> <ul> <li>Under <code>Wireless Security</code> click the 'show' button next to <code>WPA PRESHARED KEY</code>. Make sure that the value that it shows matches the one you were given. If you need to change it, be sure to click the <code>SAVE CHANGES</code> button.</li> <li>Remember, the BICAS supernode and the Tucson House supernode use different keys. If you are switching from one to the other, you will need to update accordingly. </li> <li>Click the <code>SELECT</code> button below the <code>SSID</code> input and click the radio button next to the Tucson Mesh network with the strongest signal. A signal closer to zero is stronger. I.e. -68 dBm is stronger than -70 dBm and -75 dBm is weaker. </li> </ul> <p>At some point perhaps this should be a map</p> <ul> <li> <p>The network names for the Tucson House supernode are:</p> <ul> <li><code>TMTH-SW-Top-W</code></li> <li><code>TMTH-SW-Middle-SW</code></li> <li><code>TMTH-SW-Bottom-W</code></li> <li><code>TMTH-SE-Top-S</code></li> <li><code>TMTH-SE-Middle-SE</code></li> <li><code>TMTH-SE-Bottom-E</code></li> <li><code>TMTH-NW-Top-N</code></li> <li><code>TMTH-NW-Middle-NW</code></li> <li><code>TMTH-NW-Bottom-W</code></li> <li><code>TMTH-NE-Top-E</code></li> <li><code>TMTH-NE-Middle-NE</code></li> <li><code>TMTH-NE-Bottom-N</code></li> </ul> </li> <li> <p>The network names for the BICAS supernode are:</p> <ul> <li><code>tucsonmesh-sectortest</code></li> <li><code>tucsonmesh-sectorsouth</code></li> <li><code>tucsonmesh-sectoreast</code></li> </ul> </li> <li> <p>Then click the <code>SELECT</code> button.</p> </li> <li> <p>After you change either the wireless network or the WPA preshared key, you might have to wait a few minutes for the LiteBeam to find the sector router and connect.</p> </li> </ul>"},{"location":"guides/realignment/realign-litebeam/#5-open-the-alignment-tool","title":"5. Open the alignment tool","text":"<p>Open the alignment tool and keep it open. You'll monitor this tool as you adjust the position of the LiteBeam.</p> <ul> <li>Click on the <code>TOOLS</code> icon in the left-hand menu. And choose <code>ALIGNMENT</code> in the menu that pops up.</li> </ul> <p></p> <ul> <li>This will open the <code>Antenna Alignment Tool</code>.</li> </ul> <p></p>"},{"location":"guides/realignment/realign-litebeam/#6-adjust-the-litebeam-position","title":"6. Adjust the LiteBeam position","text":"<ul> <li>Loosen the wingnut on the clamp around the azimuth mount shaft. This will allow adjusting the horizontal angle of the device.</li> <li>The shaft has small ridges and the clamp has small grooves. This makes it difficult to rotate the device around the shaft, even when the clamp is loosened. The best way to rotate the device is to gently raise the device off the shaft until it is just above the shaft. Then rotate it so the next ridge and groove are aligned.</li> <li>Adjust the angle of the device one groove at a time and watch for how the signal strength changes. The alignment tool signal strength readings will lag movements of the antenna, so make small movements and wait for the admin interface signal reading to update before adjusting the position further. </li> <li>Keep in mind the landmarks you identified in Google Earth and consult any saved images from the app.</li> <li>Look for the position that makes the signal as strong as possible as shown in the web admin interface or UISP app. A signal closer to zero is stronger. I.e. -68 dBm is stronger than -70 dBm and -75 dBm is weaker </li> <li>Now loosen the wingnut on the side of the elevation mount.</li> <li>Repeat the process of adjusting the vertical angle of the device and watch how the signal strength changes. Stop at the angle with the strongest signal strength.</li> <li>Ideally you want a signal -65 dBm or stronger, but one that is at least -70 dBm will be workable.</li> <li>Tighten the wingnut for the elevation mount, then tighten the wingnut for the clamp around the azimuth mount shaft.</li> <li>Once all the wingnuts are fully tightened (gently check that you cannot easily move the router with your hands; it should be firmly in place so as not to be knocked out of alignment by monsoon winds), you are done with realignment! Carefully descend from your roof.</li> </ul>"},{"location":"guides/realignment/realign-litebeam/#7-concluding-speed-test","title":"7. Concluding speed test","text":"<ul> <li>Reconnect to the network from your indoor home router.</li> <li>Go to speedtest.net and click the <code>GO</code> button in the center of the page.</li> <li>After approximately 30 seconds, the webpage will display speed test results.</li> <li>Any download speeds of 25 Mbps or higher are allow for streaming of HD video and video calls. See FCC broadband speed guide for details</li> </ul>"},{"location":"guides/site-survey/","title":"Site survey","text":"<p>How can this documentation be improved?</p> <ul> <li>Check that menu labels are correct. </li> <li>Explain how to read the signal strength in the Omni instructions.</li> </ul>"},{"location":"guides/site-survey/#line-of-sight-to-supernode-install","title":"Line-of-sight to supernode install","text":""},{"location":"guides/site-survey/#prep","title":"Prep","text":"<ol> <li>Make sure you have the passwords for accessing the router administration interfaces as well as the WPA password.</li> <li>The default LiteBeam administration credentials are stored in the password manager as <code>Ubiquiti LiteAP/LBE admin</code>.</li> </ol>"},{"location":"guides/site-survey/#arrival-site-selection","title":"Arrival &amp; Site Selection","text":"<ol> <li>Arrive at Installee\u2019s home. </li> <li>Introduce yourself.</li> <li>Find a safe place to position the ladder.</li> <li>Climb up on the roof carefully using the ladder safety protocol.  </li> <li>Look for an ideal location on the roof that would have the best line-of-site (LOS) to Tucson Mesh\u2019s supernode. You may need to use binoculars to find the mast.   </li> <li>Once you have selected a location, check with the Installee to make sure the location works for them.</li> </ol>"},{"location":"guides/site-survey/#litebeam","title":"LiteBeam","text":"<ol> <li>Plug in the LBE to the battery pack. Once it powers up, a blue light will appear on the router and it will generate a management wifi- SSID- that looks something like <code>LBE-5AC-Gen2</code>.   </li> <li>Connect to the network by navigating to https://192.168.172.1 in your browser. You may be met with a warning due to a self-signed security certificate. Bypass this warning. This will bring you to the LiteBeam administrtion interface. </li> <li>Type in the admin username and password to log into the LiteBeam. </li> <li>Once connected, Go to <code>Wireless Settings</code> &gt; <code>SSID</code>, and make sure the SSID is connected to the Sector Router that makes the most sense with your location. Click and apply changes. Make sure that the WPA Password is correct. </li> <li>After you check these, you might have to wait a few minutes for the LiteBeam to find the Sector Router and connect.   </li> <li>Go to Tools and Alignment or \u201cAlign Antennae\u201d  </li> <li>Hold the LiteBeam up to be the direction and location that you had previously chosen.  </li> <li>You will need to find a signal that is at least -70 or higher. Any signal lower than that will not be strong enough to move on to the install.   </li> <li>Once you install, you will be able to make a more precise alignment of at least -65 or higher.</li> </ol> <p>You can now move on to the install!</p>"},{"location":"guides/site-survey/#line-of-site-to-omni-only-install","title":"Line-of-site to Omni-only install","text":"<ol> <li>Plug in the Omni to power pack. </li> <li>You will see a wifi network called <code>tucsonmesh-20-omni</code>.</li> <li>Navigate to <code>http://10.69.0.20/</code> in your browser. This will take you to the web interface GUI for the Omni.  </li> <li>If it asks you to change password, ignore it.  </li> <li>Go to the WebFig tab on the top right.</li> <li>Click through the following menu items starting with the menus on the left side of the interface: <code>Wireless</code> &gt; <code>Wifi interfaces</code> &gt; <code>scanner</code>. </li> <li>Make sure you change <code>interface</code> to <code>wlan3</code> before scanning.</li> <li>To select an Omni to connect to, close out the scanner, navigate to <code>Wireless</code> &gt; <code>WiFi Interfaces</code>, click on <code>wlan4</code>, and edit the SSID to match the SSID of the Omni you want to connect to.  </li> </ol>"},{"location":"guides/uisp/setting-litebeam-passwords/","title":"Set user passwords on their LightBeam","text":"<p>This guide is for Tucson Mesh Admin team members to give users unique passwords for accessing the admin interface of their LiteBeam (LBE) devices. This is needed to access the tools used for tasks such as realignments.</p> <p>When users want to do a realignment themselves, they will request an admin password for their LBE via the #user-support channel in the Slack. It is possible that these requests may come in through email or other channels as well. Only Admin team members have access to UISP, and it is only through UISP that passwords for LBEs can be set.</p>"},{"location":"guides/uisp/setting-litebeam-passwords/#required-materials","title":"Required materials","text":"<ul> <li>Login credentials for Tucson Mesh Bit Warden  </li> <li>Login credentials for Tucson Mesh\u2019s UISP instance </li> <li>Ability to access the multi-factor authentication method, if required</li> <li>Login credentials for Trello</li> <li>Contact information for user requesting new password</li> </ul>"},{"location":"guides/uisp/setting-litebeam-passwords/#gather-information-about-user-and-node","title":"Gather information about user and node","text":"<p>Find the network number (NN) for the user who is requesting a new password for the LBE to do a realignment. Use the Mesh Installs Trello Board if the user does not know their NN.</p>"},{"location":"guides/uisp/setting-litebeam-passwords/#assign-a-new-password-in-uisp","title":"Assign a new password in UISP","text":"<p>Navigate to UISP in your browser.</p> <p>Log in with an account with administrator privileges. This works best in your browser, not the mobile app.</p> <p>Click on the <code>Devices</code> icon in the left-hand menu.</p> <p></p> <p>Find the LBE assigned to the NN that you want to update the password for in the <code>Stations</code> section of the <code>Devices</code> panel. You may need to hit the <code>Show more</code> button to see all LBEs. </p> <p></p> <p>Click on the LBE in the list. Then click the <code>Manage</code> tab in the panel that opens on the right-hand side of the window.</p> <p></p> <p>Click <code>Generate Password</code>.</p> <p>Copy the password as you'll need to paste it into the password store in the next step.</p>"},{"location":"guides/uisp/setting-litebeam-passwords/#store-the-password-in-the-password-store","title":"Store the password in the password store","text":"<p>Clarification needed</p> <ul> <li>Specify what to click to create a new password in BitWarden.</li> <li>Specify how to label or organize the LBE passwords so they are all grouped together in BitWardnen.</li> </ul> <p>Store this password in BitWarden.</p>"},{"location":"guides/uisp/setting-litebeam-passwords/#send-the-password-to-the-user","title":"Send the password to the user","text":"<p>Share this password with the user via BitWarden\u2019s Send feature.   </p> <p>Create a new \"Send\".</p> <p></p> <p>Write the <code>Name</code> as \u201cNNXX-LBE\u201d, replacing the XX with the user's NN, and put the password that you generated in UISP in the <code>Text to share</code> text area.</p> <p></p> <p>Set the <code>Deletion date</code> to 30 and <code>Limit views</code> to 3. Make sure the <code>Password</code> field is empty. Note that this field sets a password that is required to view the sent item, not the password being shared.</p> <p></p> <p>Save the Send by clicking the <code>Send</code> button.</p> <p>Copy the link, and send the link to the user.</p>"},{"location":"guides/uisp/setting-litebeam-passwords/#update-the-trello-card","title":"Update the Trello card","text":"<p>Clarification needed</p> <ul> <li>Specify what label to use to indicate a password has been set. </li> </ul> <p>Navigate to the Trello card for the node and add a label indicating that this node now has a unique password associated with it. </p>"},{"location":"guides/updating-docs/","title":"Updating this documentation","text":"<p>The Tucson Mesh documentation site is just specially-formatted text files, processed by open source software and turned into a static website. This guide covers how to make changes to the documentation and the technologies that make that possible.</p> <p>This documentation is written as Markdown files that are turned into a website using MKDocs with the Material for MKDocs theme.</p> <p>If you just want to make some changes, check out Editing existing documentation pages.</p> <p>It's probably helpful to read the Writing with Markdown section of the MKDocs User Guide.</p> <p>You'll have the best experience editing this documentation if you have an understanding of the difference between absolute and relative paths and URLs. Creating links from the Mozilla Developer Network Structuring content with HTML tutorial has a good description of these concepts.</p>"},{"location":"guides/updating-docs/adding-docs/","title":"Adding a new documentation page","text":"<p>This is a guide for adding a page to the documentation site.</p> <p>This guide shows how to use GitHub's web-based editor because its interface should be familiar to anyone who's used a web form and using it does not require installing any software.</p>"},{"location":"guides/updating-docs/adding-docs/#for-close-collaborators","title":"For close collaborators","text":"<p>You can use GitHub's web editor to add a new page of documentation to this site.</p>"},{"location":"guides/updating-docs/adding-docs/#prerequisites","title":"Prerequisites","text":"<ul> <li>You have a GitHub account. Sign up is free.</li> <li>You have been granted commit access to the tucsonmesh-docs repository by someone in the Mesh admin group.</li> <li>You have some familiarity with the Markdown markup language. Reading about its basic syntax will probably be enough. Don't worry! Markdown was designed to be easily readable and you can probably figure out the syntax from what's already in the file.</li> </ul>"},{"location":"guides/updating-docs/adding-docs/#make-sure-youre-logged-into-your-github-account","title":"Make sure you're logged into your GitHub account","text":"<p>For the smoothest editing experience, make sure you're logged in to your GitHub account before you start editing pages.</p> <p>Visit https://github.com/login in your preferred browser and complete the login flow.</p>"},{"location":"guides/updating-docs/adding-docs/#navigate-to-the-documentation-repository-on-github","title":"Navigate to the documentation repository on GitHub","text":"<p>The documentation is just a collection of text files. We use a version control system called git to manage edits and combine edits from multiple people. We use GitHub as the host for this version control system.</p> <p>Navigate to https://github.com/tucsonmesh/tucsonmesh-docs in your browser. This is where you can view and modify the documentation.</p>"},{"location":"guides/updating-docs/adding-docs/#navigate-to-the-folder-where-you-want-to-add-a-page","title":"Navigate to the folder where you want to add a page","text":"<p>The software we use to turn the text files into the documentation site requires that all the files live in the <code>docs</code> directory/folder of the repository, so start by clicking on that directory.</p> <p>Use your browser to explore the folder structure under <code>docs</code> to find where you want to create your new documentation page.</p> <p>Where you choose to create the file will determine its URL on the public site. For example, the current piece of documentation you're reading is at https://tucsonmesh.github.io/tucsonmesh-docs/guides/updating-docs/adding-docs/ that means this file lives in the <code>docs/guides/updating-docs</code> directory.</p> <p>You can move this file later, but try to place the file in a directory alongside related documentation.</p>"},{"location":"guides/updating-docs/adding-docs/#create-the-file-content","title":"Create the file content","text":"<p>In the directory view of the repository on GitHub, click the <code>Add File</code> button in the upper-right corner of the screen and click <code>Create new file</code> in the menu.</p> <p>Type out your documentation in the large text area. You may want to turn on line wrapping by clicking on the <code>Line wrap mode</code> button in the upper-right corner and choosing <code>Soft wrap</code> in the menu.</p> <p>You can check your Markdown formatting by clicking on the <code>Preview</code> tab.</p>"},{"location":"guides/updating-docs/adding-docs/#save-your-changes","title":"Save your changes","text":"<p>Once you're done, click the <code>Commit changes</code> button to the upper-right of the text editing area.</p> <p>Enter a <code>Commit message</code>. There will be a default, but ideally you'll add something more descriptive. Additionally, you can write an <code>Extended description</code>. The description should describe the motivation for your changes rather than summarizing what you changed. Both of these won't be visible to readers of the documentation site, but are useful for other editors to review or understand changes.</p> <p>Finally, click the <code>Commit changes</code> button.</p>"},{"location":"guides/updating-docs/adding-docs/#youre-done","title":"You're done!","text":"<p>Your changes have been saved, and in a few minutes, the public site will be rebuilt and your changes will be visible.</p>"},{"location":"guides/updating-docs/adding-docs/#next-add-the-new-documentation-to-the-menu","title":"Next: add the new documentation to the menu","text":"<p>You've added a page to the documentation site, but you need to also add it to the navigation menus. See Updating the documentation menu for instructions on how to do this.</p>"},{"location":"guides/updating-docs/adding-docs/#for-others","title":"For others","text":"<p>We need to write step-by-step instructions about how people who are not close collaborators can submit updates to the documentation. Generally speaking, this documentation is hosted in a GitHub repository. You can fork the repository, commit the desired changes to your fork and send us a pull request.</p>"},{"location":"guides/updating-docs/editing-docs/","title":"Editing existing documentation pages","text":"<p>This is a guide for editing existing pages on this documentation site.</p> <p>This guide shows how to use GitHub's web-based editor because it's easy to reach it from the documentation site and does not require installing any software.</p>"},{"location":"guides/updating-docs/editing-docs/#for-close-collaborators","title":"For close collaborators","text":"<p>You can use links from the public documentation site to edit the page's source using GitHub's web interface.</p>"},{"location":"guides/updating-docs/editing-docs/#prerequisites","title":"Prerequisites","text":"<ul> <li>You have a GitHub account. Sign up is free.</li> <li>You have been granted commit access to the tucsonmesh-docs repository by someone in the Mesh admin group.</li> <li>You have some familiarity with the Markdown markup language. Reading about its basic syntax will probably be enough. Don't worry! Markdown was designed to be easily readable and you can probably figure out the syntax from what's already in the file.</li> </ul>"},{"location":"guides/updating-docs/editing-docs/#make-sure-youre-logged-into-your-github-account","title":"Make sure you're logged into your GitHub account","text":"<p>For the smoothest editing experience, make sure you're logged in to your GitHub account before you start editing pages.</p> <p>Visit https://github.com/login in your preferred browser and complete the login flow. </p>"},{"location":"guides/updating-docs/editing-docs/#visit-the-page-you-want-to-edit-on-the-documentation-site","title":"Visit the page you want to edit on the documentation site","text":"<p>Visit the documentation site in the same browser that you used to log in to GitHub. </p> <p>Click the  icon to the right of the page's title. </p> <p>This will take you to the edit page on GitHub for the Markdown file that generates the page you want to edit.</p>"},{"location":"guides/updating-docs/editing-docs/#make-your-edits-and-save-the-changes","title":"Make your edits and save the changes","text":"<p>Edit the text to reflect the changes you want to make.</p> <p>You can click on the <code>Preview</code> tab above the text editing area to see what your changes look like.</p> <p>Once you're done, click the <code>Commit changes</code> button to the upper-right of the text editing area.</p> <p>Enter a <code>Commit message</code>. There will be a default, but ideally you'll add something more descriptive. Additionally, you can write an <code>Extended description</code>. The description should describe the motivation for your changes rather than summarizing what you changed. Both of these won't be visible to readers of the documentation site, but are useful for other editors to review or understand changes.</p> <p>Finally, click the <code>Commit changes</code> button.</p>"},{"location":"guides/updating-docs/editing-docs/#youre-done","title":"You're done!","text":"<p>Your changes have been saved, and in a few minutes, the public site will be rebuilt and your changes will be visible. </p>"},{"location":"guides/updating-docs/editing-docs/#for-others","title":"For others","text":"<p>We need to write step-by-step instructions about how people who are not close collaborators can submit updates to the documentation. Generally speaking, this documentation is hosted in a GitHub repository. You can fork the repository, commit the desired changes to your fork and send us a pull request.</p>"},{"location":"guides/updating-docs/editing-menu/","title":"Updating the documentation menu","text":"<p>This is a guide for editing the navigation menu that currently appears on the left-hand side of the documentation site. You can use it to add a new documentation page you've created to the navigation menu.</p> <p>This guide shows how to use GitHub's web-based editor because its interface should be familiar to anyone who's used a web form and using it does not require installing any software.</p>"},{"location":"guides/updating-docs/editing-menu/#for-close-collaborators","title":"For close collaborators","text":"<p>You can use GitHub's web editor to update the documentation site menu.</p>"},{"location":"guides/updating-docs/editing-menu/#prerequisites","title":"Prerequisites","text":"<ul> <li>You have a GitHub account. Sign up is free.</li> <li>You have been granted commit access to the tucsonmesh-docs repository by someone in the Mesh admin group.</li> <li>You have some understanding of absolute and relative paths in a computer's file system or URLS. Creating links from the Mozilla Developer Network Structuring content with HTML tutorial has a good description of these concepts.</li> </ul> <p>In addition, it might be helpful if</p> <ul> <li>You have a basic understanding of the concept of structured data text files. The menu configuration is in a YAML file. If you've ever worked with JSON, or even CSV files, you probably have enough familiarity to be fine. The bottom line is that special characters and indentation matter!</li> <li>You've glanced at the Configure Pages and Navigation section of the MKDocs user guide. Recall that MKDocs is the open source software we use to convert the Markdown-formatted text files you edit into the documentation website.</li> </ul>"},{"location":"guides/updating-docs/editing-menu/#make-a-note-of-the-relative-path-of-the-file-for-the-documentation-page","title":"Make a note of the relative path of the file for the documentation page","text":"<p>In order to add a page to the navigation menu, you'll need to know its path relative to the docs directory.</p> <p>This is different than its path in the URL of the documentation site, but knowing that can help.</p> <p>For example, if you wanted to add a navigation menu item for the file that lives at <code>docs/guides/updating-docs/adding-docs.md</code>, then the path you'll need to remember for later is <code>guides/updating-docs/adding-docs.md</code>. That is, omit the leading <code>docs/</code>.</p> <p>The Markdown file is published at https://tucsonmesh.github.io/tucsonmesh-docs/guides/updating-docs/adding-docs/ and you can also see how the path you need to remember, <code>guides/updating-docs/adding-docs.md</code> is reflected in the URL path.</p>"},{"location":"guides/updating-docs/editing-menu/#make-sure-youre-logged-into-your-github-account","title":"Make sure you're logged into your GitHub account","text":"<p>For the smoothest editing experience, make sure you're logged in to your GitHub account before you start editing pages.</p> <p>Visit https://github.com/login in your preferred browser and complete the login flow.</p>"},{"location":"guides/updating-docs/editing-menu/#open-the-configuration-file-in-the-github-editor","title":"Open the configuration file in the GitHub editor","text":"<p>Navigate to the tucsonmesh-docs repository repository.</p> <p>In the file listing, click on the entry for the configuration file: <code>mkdocs.yml</code>.</p> <p>Click on the <code>Edit this file</code> icon in the upper-right corner of the area that shows the file contents. It looks like a pencil.</p>"},{"location":"guides/updating-docs/editing-menu/#add-or-move-the-navigation-menu-entry","title":"Add or move the navigation menu entry","text":"<p>The configuration file <code>mkdocs.yml</code> includes a number of settings beyond just site navigation. You want to look for the <code>nav</code> key in the file.</p> <p>You should see how the entries under the <code>nav</code> key correspond to the structure of the menu on the published site.</p> <p>Menu items are denoted with a <code>-</code>. The order of menu items in the configuration, from top to bottom, determines the order they show up in the menu of the published site.</p> <p>Levels of the menu are defined by indenting two spaces further to the right than the menu parent item.</p> <p>Add the entry for the path you identified earlier to the desired section of the menu configuration, or cut it from one section and paste it into another.</p> <p>For example, if I wanted to add the file <code>guides/updating-docs/adding-docs.md</code> to the <code>Updating this documentation</code> section of the menu, I would insert it like this:</p> <pre><code>nav:\n  - Home: index.md\n  - Guides:\n    - guides/installation/index.md\n    - guides/site-survey/index.md\n    - Router Configuration:\n      - guides/configuring-routers/index.md\n      - guides/configuring-routers/litebeam.md\n      - guides/configuring-routers/omnitik.md\n      - guides/configuring-routers/sxtsq.md\n      - guides/configuring-routers/archer-a6.md\n    - guides/ladder-safety.md\n    - guides/routeros-tips.md\n    - Updating this documentation:\n      - guides/updating-docs/index.md\n      - guides/updating-docs/editing-docs.md\n      - guides/updating-docs/adding-docs.md\n      - guides/updating-docs/faq.md\n</code></pre> <p>Note that adding an entry for the file path will automatically show that file's title in the published menu.</p> <p>If you want to make the entry different than the title, you can prepend the path with the alternate label and a colon. For example:</p> <pre><code>nav:\n  - Home: index.md\n  - Guides:\n    - guides/installation/index.md\n    - guides/site-survey/index.md\n    - Router Configuration:\n      - guides/configuring-routers/index.md\n      - guides/configuring-routers/litebeam.md\n      - guides/configuring-routers/omnitik.md\n      - guides/configuring-routers/sxtsq.md\n      - guides/configuring-routers/archer-a6.md\n    - guides/ladder-safety.md\n    - guides/routeros-tips.md\n    - Updating this documentation:\n      - guides/updating-docs/index.md\n      - guides/updating-docs/editing-docs.md\n      - Add a page: guides/updating-docs/adding-docs.md\n      - guides/updating-docs/faq.md\n</code></pre>"},{"location":"guides/updating-docs/editing-menu/#save-your-changes","title":"Save your changes","text":"<p>Once you're done, click the <code>Commit changes</code> button to the upper-right of the text editing area.</p> <p>Enter a <code>Commit message</code>. There will be a default, but ideally you'll add something more descriptive. Additionally, you can write an <code>Extended description</code>. The description should describe the motivation for your changes rather than summarizing what you changed. Both of these won't be visible to readers of the documentation site, but are useful for other editors to review or understand changes.</p> <p>Finally, click the <code>Commit changes</code> button.</p>"},{"location":"guides/updating-docs/editing-menu/#youre-done","title":"You're done!","text":"<p>Your changes have been saved, and in a few minutes, the public site will be rebuilt and your changes will be visible.</p>"},{"location":"guides/updating-docs/editing-menu/#for-others","title":"For others","text":"<p>We need to write step-by-step instructions about how people who are not close collaborators can submit updates to the documentation. Generally speaking, this documentation is hosted in a GitHub repository. You can fork the repository, commit the desired changes to your fork and send us a pull request.</p>"},{"location":"guides/updating-docs/faq/","title":"Frequently asked questions","text":""},{"location":"guides/updating-docs/faq/#how-do-i-leave-comments","title":"How do I leave comments?","text":"<p>One of the downsides of moving away from using Google Docs is that we lose its nice system for highlighting text that might be unclear or incorrect.</p> <p>In this new system, the best bet is to just put the comment in the content and highlight it with a special box, called an \"admonition\".</p> <p>It's probably most clear to include these at the beginning of the section that reflects unclear or outdated content.</p> <p>For example this Markdown:</p> <pre><code>!!! info \"How can this documentation be improved?\"\n\n    - Suggestion 1\n    - Suggestion 2\n</code></pre> <p>Generates this message:</p> <p>How can this documentation be improved?</p> <ul> <li>Suggestion 1</li> <li>Suggestion 2</li> </ul> <p>You can change the icon and formatting by changing the word after the <code>!!!</code>.</p> <p>For example, this Markdown:</p> <pre><code>!!! warning \"Content may be out of date\"\n\n    We need to check if it's still preferable to use this method.\n</code></pre> <p>Generates this message:</p> <p>Content may be out of date</p> <p>We need to check if it's still preferable to use this method.</p> <p>You can learn more about this feature at Admonitions.</p>"},{"location":"hardware/ccr2004/","title":"MikroTik CCR2004-16G-2S+","text":"<p>Product Page: MikroTik Routers and Wireless - Products: CCR2004-16G-2S+ </p> <p>User Manual: CCR2004-16G-2S+ - User manuals - MikroTik Documentation</p> <p>The MikroTik CCR2004-16G-2S+ is used as the primary router for the Tucson House supernode.</p> <p>If you are configuring one of these routers and it has been freshly reset or is fresh out of the box, you need to</p> <ul> <li>Connect to it over Ethernet into the <code>15/BOOT</code> port</li> <li>Manually assign your network interface to use an IP of <code>192.168.88.2/24</code> (<code>192.168.88.2</code> with a netmask of <code>255.255.255.0</code> and default gateway/route of <code>192.168.88.1</code>)</li> <li>Go to <code>http://192.168.88.1</code> or open Winbox and attempt to connect via IP or through the Neighbors tab</li> </ul>"},{"location":"hardware/ccs610/","title":"Mikrotik CSS610-8P-2S+IN","text":"<p>This is the model of PoE Switch that we are using for the Tucson House supernode. They don't require any particular setup with the exception of naming them something other than Mikrotik.</p> <p>If you connect directly over Ethernet with them, you can access the admin UI at <code>192.168.88.1</code> in the same fashion as above or, if it's been assigned an IP over DHCP, that IP.</p> <ul> <li>Switch 1:<ul> <li>Hostname/Identity: <code>tmth-css610-1</code></li> <li>Serial number: <code>HEB08PEFCYS</code></li> </ul> </li> <li>Switch 2:<ul> <li>Hostname/Identity: <code>tmth-css610-2</code></li> <li>Serial number: <code>HEB08R65HZ9</code></li> </ul> </li> </ul>"},{"location":"hardware/liteap/","title":"Ubiquiti LiteAP","text":"<p>Product page: UISP airMAX LiteAP 5AC Access Point - Ubiquiti Store United States</p> <p>Monitoring: ?</p> <p>These are the sector antennas on the BICAS supernode.</p>"},{"location":"hardware/litebeam/","title":"Ubiquiti LightBeam AC Gen 2","text":"<p>Product page: airMAX LiteBeam 5AC - Ubiquiti Store United States</p> <p>Datasheet</p> <p>Quick Start Guide: LBE-5AC-Gen2 Quick Start Guide. This has images of the different parts of the device and has the names Ubiquiti uses for the different parts.</p> <p>Configuration guide: Ubiquiti LightBeam AC Gen 2 Router Configuration Guide</p> <p>Monitoring: UISP </p> <p>Along with the MikroTik OmniTIK 5 PoE ac, this is what most users have on their roofs.</p>"},{"location":"hardware/omnitik/","title":"MikroTik OmniTIK 5 PoE ac","text":"<p>Product page: MikroTik Routers and Wireless - Products: OmniTIK 5 PoE ac</p> <p>User manual: OmniTIK series - User manuals - MikroTik Documentation</p> <p>Configuration guide: MikroTik OmniTIK 5 PoE ac Router Configuration Guide</p> <p>Monitoring: Slack messages to #monitoring-screams</p> <p>Along with the Ubiquity LightBeam AC Gen 2, this is what most users have on their roofs.</p> <p>This device runs MikroTik RouterOS, so it may be useful to consult the RouterOS documentation. We've also started compiling documentation about common tasks in RouterOS in RouterOS Tips.</p>"},{"location":"hardware/omnitik/#resetting","title":"Resetting","text":"<p>To reset the Omni's operating system (OS) to the default settings, follow these steps:</p> <ul> <li>Unplug the ethernet cable from the POE port on the Omni. This will turn off the router. </li> <li>Hold down the reset button.</li> <li>While continuing to hold down the reset button, plug the ethernet cable back into the POE port. This powers on the router.</li> <li>Continue holding down the reset button until the power LED light starts flashing, about 5 seconds.</li> <li>Release the reset button and let the router continue to boot.</li> <li>You should see the default management wireless network appear, it will look smething like <code>Mikrotik-F32xxxx</code>.</li> </ul> <p>There are additional functions of the reset button that are accessed by holding down the reset button for longer than 5 seconds. See the Buttons and Jumpers section of the OmniTIK user manual for more about these other functions.</p>"},{"location":"hardware/omnitik/#beware-the-non-poe-version","title":"Beware the non-PoE version","text":"<p>All Omnis will be powered by PoE over port 1, however, some versions will provide PoE out on other ports while others will not. Generally, we use the PoE version to power a co-installed LightBeam over port 5.</p> <p>One way you can tell the difference is by entering this command in the router terminal <code>/system routerboard print</code>.</p> <p>The value of the <code>model</code> item in the output will tell you if the router has PoE output or not:</p> <ul> <li>RBOmniTikU-5HnD: OmniTIK 5 without PoE</li> <li>RBOmniTikUPA-5HnD: OmniTIK 5 PoE with PoE</li> <li>RBOmniTikG-5HacD: OmniTIK 5 ac without PoE</li> <li>RBOmniTikPG-5HacD: OmniTIK 5 PoE ac with PoE</li> </ul> <p>Using the default configuration generated by our configuration generator will fail on these commands, leaving the router in an unstable state:</p> <pre><code>/interface ethernet\nset [ find default-name=ether1 ] comment=\"NN:$nodenumber\"\nset [ find default-name=ether2 ] poe-out=off\nset [ find default-name=ether3 ] poe-out=off\nset [ find default-name=ether4 ] poe-out=off\nset [ find default-name=ether5 ] poe-out=forced-on comment=\"device to hub\"\n</code></pre>"},{"location":"hardware/rocketprism/","title":"Ubiquiti Rocket Prism 5AC","text":"<p>Product page: UISP airMAX Rocket Prism 5AC Access Point</p> <p>Monitoring: ?</p> <p>Model: <code>RP-5AC-Gen2</code></p> <p>These are the radios for the sector antennas on the Tucson House supernode.</p> <p>When setting up, connect to the <code>RP-5AC-Gen2:&lt;MAC-ADDRESS&gt;</code> WiFi AP. Navigate to <code>192.168.172.1</code></p>"},{"location":"hardware/rocketprism/#antenna-setting","title":"Antenna setting","text":"<p>In UISP the antenna setting needs to be set to <code>AP-5AC-90-HD</code> when connected to the airPRISM 3x30\u00b0 HD Sector antennas (\"Big Boy\") as they are atop Tucson House.</p>"},{"location":"hardware/sxtsq/","title":"MikroTik SXTsq 5 ac","text":"<p>Product page: MikroTik Routers and Wireless - Products: SXTsq 5 ac</p> <p>Configuration guide: MikroTik SXTsq 5 ac Router Configuration Guide</p> <p>This is used to connect a node to a nearby node's OmniTIK or another SXT. It has a directional antenna.</p> <p>This device runs MikroTik RouterOS, so it may be useful to consult the RouterOS documentation. We've also started compiling documentation about common tasks in RouterOS in RouterOS Tips.</p>"},{"location":"hardware/tp-link-ac1750/","title":"Archer C7 AC1750 Wireless Dual Band Gigabit Router","text":"<p>These are the devices that we install inside of a user's home. </p> <p>Typically the wan port on this device would be connected to a POE injector, which would connect to port 1 on an Omni.</p> <p>Product page: Archer C7 | AC1750 Wireless Dual Band Gigabit Router | TP-Link</p>"},{"location":"hardware/tp-link-archer-a6-v2/","title":"TP-Link Archer A6 V2 AC1200 Wireless MU-MIMO Gigabit Router","text":"<p>This is one of the models of routers we install inside someone's home.</p> <p>Product page: Archer A6 | AC1200 Wireless MU-MIMO Gigabit Router | TP-Link</p> <p>User guide: Archer A6 V2 User Guide | TP-Link</p> <p>Other support materials: Download for Archer A6 | TP-Link</p>"},{"location":"hardware/tp-link-archer-a6-v2/#resetting-the-router","title":"Resetting the router","text":""},{"location":"hardware/tp-link-archer-a6-v2/#using-the-reset-button","title":"Using the Reset button","text":"<p>With the router powered on, use a pin to press and hold the Reset button on the back until the Power LED blinks.</p>"},{"location":"hardware/tp-link-archer-a6-v2/#using-the-management-page","title":"Using the management page","text":"<p>Log in to the web management page of the router, go to <code>`Advanced</code> &gt; <code>System Tools</code> &gt; <code>Backup &amp; Restore</code>, and click <code>Factory Restore</code>. The router will restore and reboot automatically.</p>"},{"location":"networking/networking101/","title":"Networking 101","text":"<p>Networking 101 was a 4-week class held in August 2023. You can find the slides, recordings of the sessions and other course materials here: Networking 101 - Aug. 2023.</p>"},{"location":"networking/servers/fw-mesh-host/","title":"fw-mesh-host","text":"<p>This is a Framework Laptop 13 Mainboard (11th Gen Intel\u00ae Core\u2122) with an Intel Core i5 processor.</p> <p>It's running Fedora and hosts virtual machines, such as fw-mesh-vm-nixos that run services for accessing, monitoring and administering the mesh.</p>"},{"location":"networking/servers/fw-mesh-vm-nixos/","title":"fw-mesh-vm-nixos","text":"<p>This is a virtual machine running NixOS that provides VPN access to the mesh for administration and hosts services like LibreNMS. </p>"},{"location":"networking/supernodes/","title":"Supernodes","text":"<p>In the network architecture we use, a \"supernode\" is a physical location with multiple antennas and a connection to the broader internet.</p> <p>As of early April 2025, we have a supernode, the one located at Bicas, with a second supernode atop Tucson House to be installed this month.</p>"},{"location":"networking/supernodes/bicas/","title":"BICAS","text":"<p>This supernode is located at BICAS, a community bicycle project located at 2001 N 7th Ave.</p> <p>It was created in March 2025 when we moved the equipment that was at the former location of the BCC across the street.</p>"},{"location":"networking/supernodes/bicas/#hardware","title":"Hardware","text":"<ul> <li>3 Ubiquity LiteAP sector antennas.</li> <li>Omni 50: A MikroTik OmniTIK 5 PoE ac that handles NAT and handoff with login.</li> <li>Omni 51: A MikroTik OmniTIK 5 PoE ac that is attached to the same mast as the secto antennas. This device powers all three sector antennas. It is connected to Omni 50 by a single ethernet cable.</li> <li>TP Link ???: Wireless router formerly at BCC, now used to provide WiFi to BICAS. The WAN Port of this device is plugged into \"eth2 cust\" on the Mikrotik switch that belongs to Login.</li> <li>Point-to-point antenna that provides the uplink to Login Business, an internet exchange point.</li> <li>fw-mesh-host server.</li> </ul> <p>Each sector antenna covers a 120 degree \u201csector\u201d of the neighborhood so that together, they broadcast Tucson Mesh\u2019s network in all directions outwards from BICAS. This allows other people to join the network by pointing their LiteBeams towards the supernode.</p> <p>The sector antennas, as well as Omni 51 are attached to a collapsible mast which is mounted with a custom bracket to the north side of the building. Four guy lines help stabalize the mast.</p> <p></p> <p>The two OmniTIKrouters on the roof help us do some of the networking required to keep the Mesh functioning and can connect to other OmniTIKS nearby.</p> <p>The OnmiTIK is a router with an integrated omnidirectional antenna, meaning that it broadcasts a signal in a 360 degree radius around it. The OmniTIK creates an open 5Ghz WiFi network that is broadcast in all directions and named <code>Tucson Mesh Free Wifi</code>. This network allows people passing by to use the Mesh for free, and advertises Tucson Mesh.</p> <p></p> <p>Tucson Mesh purchases bandwidth in bulk from Login Business, an internet exchange point in the Sugar Hill neighborhood two blocks south-east of BICAS. Login uses a point to point antenna to get bandwidth to the roof of BICAS which is then shared through the supernode with people in the neighborhood.</p>"},{"location":"networking/supernodes/bicas/#power-for-rooftop-hardware","title":"Power for rooftop hardware","text":"<p>The OmniTIK routers are powered through an ethernet cable from a power over ethernet (PoE) injector that is plugged into a standard 3-prong wall outlet. The OmniTiks then passes on power to the sector antennas via outdoor rated ethernet cables.</p> <p>Power is currently coming from an outdoor plug on the north side of the building, just inside the fence that circles the outdoor lot. \u26a0\ufe0f  It is critical that this remains plugged in and powered at all times. </p> <p></p>"},{"location":"networking/supernodes/bicas/#location-of-rooftop-equipment","title":"Location of rooftop equipment","text":"<p>In this image, you can see the location of the mast and sector antennas (red circle), the guy lines (grey lines), the OmniTIK routers (green triangles), and the location of Login\u2019s point-to-point antenna that provides bandwidth to the Mesh. Black arrows indicate where ethernet cables enter the building.</p>"},{"location":"networking/supernodes/bicas/#inside-hardware-connections","title":"Inside hardware connections","text":"<p>Both Tucson Mesh and Login have some equipment in the \u201cnetworking cabinet\u201d inside the BICAS office.</p> <p>Login has a PoE injector that leads out to the roof through the \"Simply Bits\"  plug. Tucson Mesh has a PoE injector that goes out to the roof through the plug labeled \"Tucson Mesh\".</p> <p></p> <p>The black \"Tucson Mesh\" cable leads to our MikroTik PoE injector.</p> <p></p> <p>The other end of Mesh's MikroTik PoE injector goes into the port labeled \"ETH1 CUST\" on Login's switch, labeled \u201cEDGE VENTURA\u201d. Meanwhile, a patch cable goes from the port labeled \"eth2 cust\" to BICAS's router.</p> <p></p> <p>This is the other end of the patch cable going from the Login switch to BICAS's router:</p> <p></p> <p>Tucson Mesh's equipment is connected to the battery backup side of this UPS. \u26a0\ufe0f   It is critical that this remains plugged in at all times! </p> <p></p>"},{"location":"networking/supernodes/bicas/#tp-link-internet-configuration","title":"TP Link internet configuration","text":"<ul> <li>Internet Connection Type: Static IP</li> <li>IP Address: 204.17.35.195</li> <li>Subnet Mask: 255.255.255.248</li> <li>Default Gateway: 204.17.35.193</li> <li>Primary DNS: 1.1.1.1</li> <li>Secondary DNS: 8.8.8.8</li> </ul>"},{"location":"networking/supernodes/tucson-house/","title":"Tucson House","text":"<p>This supernode will be located on the roof of Tucson House, a residential high-rise tower built in the 1960s. It is located at 1501 N Oracle Rd, Tucson, AZ 85705.</p> <p>It went live in June 2025.</p> <p>This documentation requires updates</p> <ul> <li>Document connections between hardware</li> </ul>"},{"location":"networking/supernodes/tucson-house/#hardware","title":"Hardware","text":"<ul> <li>MikroTik Cloud Core Series Router CCR2004-16G-2S+: This is the router for the Tucson House supernode. It is configured as NN-49. Accordingly, it has a static mesh IP of <code>https://10.69.0.49</code></li> <li>Mikrotik Cloud Switch Series Switch CCS610-8P-2S+IN: There are two of these.</li> <li>Ubiquiti rocket PRISM AC gen2 5 GHz airMAX\u00ae ac Radio BaseStation with airPrism\u00ae Active RF Filtering Technology RP-5AC-Gen2-US</li> <li>Ubiquiti AirPRISM 5 GHz, 30x30\u00b0 HD Sector Antenna AP-5AC-90-HD</li> <li>Ubiquiti Ethernet Surge Protector ETH-SP-G2 </li> <li>APC Smart-UPS C 1500VA LCD RM 2U 120V with SmartConnect   SMC1500-2UC</li> </ul>"},{"location":"networking/supernodes/tucson-house/#information-from-logins-side","title":"Information from Login's Side","text":"<p>IP assignment: Network: 204.17.32.56/29 Gateway: 204.17.32.57 Usable IPs: 204.17.32.58-204.17.32.62 (inclusive)</p> <p>We will hand you a 1Gbps copper handoff set to auto-negotiate.  Please advise if you need/want a different demarc configuration.</p>"},{"location":"networking/supernodes/tucson-house/#ssid-naming-convention","title":"SSID naming convention","text":"<p>The naming convention for the SSID of the APs on Tucson House follow this convention: <code>TMTH-{corner}-{vertical_position}-{effective_direction}</code>, e.g. <code>TMTH-SW-Bottom-S</code>.</p> <ul> <li><code>corner</code> is the corner of the building on which the radio is mounted: <code>NE</code>, <code>NW</code>, <code>SE</code>, <code>SW</code></li> <li><code>vertical_position</code> is the vertical slot where the radio is mounted: <code>Bottom</code>, <code>Middle</code>, <code>Top</code></li> <li><code>effective_direction</code> is the direction corresponding to the radio's slot: <code>N</code>, <code>S</code>, <code>E</code>, <code>W</code>, <code>NE</code>, <code>NW</code>, <code>SE</code>, <code>SW</code> </li> </ul> <p>These are all the networks available from this supernode:</p> <ul> <li><code>TMTH-SW-Top-W</code></li> <li><code>TMTH-SW-Middle-SW</code></li> <li><code>TMTH-SW-Bottom-W</code></li> <li><code>TMTH-SE-Top-S</code></li> <li><code>TMTH-SE-Middle-SE</code></li> <li><code>TMTH-SE-Bottom-E</code></li> <li><code>TMTH-NW-Top-N</code></li> <li><code>TMTH-NW-Middle-NW</code></li> <li><code>TMTH-NW-Bottom-W</code></li> <li><code>TMTH-NE-Top-E</code></li> <li><code>TMTH-NE-Middle-NE</code></li> <li><code>TMTH-NE-Bottom-N</code></li> </ul>"},{"location":"services/external/","title":"External services","text":"<p>These are services used by Tucson Mesh that aren't hosted on hardware directly connected to the Mesh.</p> <ul> <li>GitHub: Hosts version control repositories for custon management code, and these documents. We use the Pages service to host the Configuration Generator and this documentation site.</li> <li>Google Sites: Hosts the main Tucson Mesh website.</li> <li>Google Docs: Legacy and nontechnical documentation, working documents for planning and visioning.</li> <li>Slack: Tucson Mesh's instance is tucsonmesh.slack.com. Builds community around the Mesh, the place to ask for support with connectivity, coordination for tech projects and community events. We're experimenting with tracking support requests using the lists feature.</li> <li>Trello: Manage new node requests, installations and track details about connected nodes.</li> <li>UISP: Used to monitor and administer Ubiquity devices on the Mesh.</li> </ul>"},{"location":"services/librenms/","title":"LibreNMS","text":"<p>LibreNMS is a network monitoring system that we use to monitor MicroTIK devices.</p> <p>It runs on fw-mesh-vm-nixos.</p>"}]}