<!doctype html><html>
<head>
<title>
Configs - Tucson Mesh Docs
</title><meta name=viewport content="width=device-width,initial-scale=1">
<link href=../../css/main.css rel=stylesheet>
<meta property="og:title" content="Configs - Tucson Mesh Docs">
<meta property="og:type" content="article">
<meta property="article:published_time" content="0001-01-01">
<meta property="og:description" content>
<meta property="og:url" content="/hardware/config/">
<meta property="og:site_name" content="Tucson Mesh Docs">
<meta property="twitter:description" content>
<meta property="twitter:title" content="Configs - Tucson Mesh Docs">
</head><body class=sans-serif>
<div class="h-100 flex-ns">
<div id=sidebar class="relative ph4-l ph3 flex justify-end-ns br bg-near-white b--light-gray">
<div class="mw5 w-100 overflow-y-hidden flex flex-column">
<div class="nowrap flex items-center justify-start h3">
<a href=../../ title=Home class="f3-ns f4 fw7 black nowrap flex items-center">
<img src=../../img/logo.svg class="h2 mr2">
<span class=f4>NYC Mesh
<span class="ml1 blue f5 ttu">Docs</span></span>
</a>
</div><div role=button class="hideDropdown h3 w3 flex items-center justify-center" tabindex=0><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
</div><div role=button class="showDropdown bg-near-white h3 w3 flex items-center justify-center" tabindex=0><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
</div><div class="dn db-ns dropdown overflow-y-auto pbv4-ns mt4-ns">
<ul class="list ma0 ph0">
<li>
<div class="flex items-center pv2"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 8 16" fill="#ccc" class="red mr2"><path fill-rule="evenodd" d="M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3z"/></svg>
<a href=../../intro/ class="db black">Introduction</a>
</div></li><li>
<div class="flex items-center pv2"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 10 16" fill="#ccc" class="red mr2"><path fill-rule="evenodd" d="M5 11 0 6l1.5-1.5L5 8.25 8.5 4.5 10 6z"/></svg>
<a href=../../hardware/ class="db black">Hardware</a>
</div><ul class="ma0 pa0 ml3 pl2">
<a href=../../hardware/config/ class="db mv3 ml0 gray blue fw5">
Configs
</a>
<a href=../../hardware/60ghz/ class="db mv3 ml0 gray">
60 GHz
</a>
<a href=../../hardware/chromebook/ class="db mv3 ml0 gray">
Chromebook
</a>
<a href=../../hardware/ethernet/ class="db mv3 ml0 gray">
Ethernet
</a>
<a href=../../hardware/mikrotiknetpower15fr/ class="db mv3 ml0 gray">
MikroTik NetPower 15FR
</a>
<a href=../../hardware/mikrotikomnitik5ac/ class="db mv3 ml0 gray">
MikroTik OmniTik 5 POE ac
</a>
<a href=../../hardware/mikrotikpowerboxpro/ class="db mv3 ml0 gray">
MikroTik PowerBox Pro
</a>
<a href=../../hardware/mikrotikspecifics/ class="db mv3 ml0 gray">
MikroTik Specifics
</a>
<a href=../../hardware/sxtsqg5acd/ class="db mv3 ml0 gray">
Mikrotik SXTsq G-5acD
</a>
<a href=../../hardware/newhardware/ class="db mv3 ml0 gray">
New Hardware
</a>
<a href=../../hardware/tplink/ class="db mv3 ml0 gray">
TP-Link Indoor Router
</a>
<a href=../../hardware/ltu/ class="db mv3 ml0 gray">
Try the new LTU sector
</a>
<a href=../../hardware/epr6/ class="db mv3 ml0 gray">
Ubiquiti EdgePoint R6
</a>
<a href=../../hardware/liteap/ class="db mv3 ml0 gray">
Ubiquiti LiteAP Sector
</a>
<a href=../../hardware/litebeamac/ class="db mv3 ml0 gray">
Ubiquiti LiteBeam AC
</a>
<a href=../../hardware/nsm5/ class="db mv3 ml0 gray">
Ubiquiti Nanostation M5
</a>
<a href=../../hardware/unifi-ap/ class="db mv3 ml0 gray">
Unifi Access Points
</a>
</ul></li><li>
<div class="flex items-center pv2"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 8 16" fill="#ccc" class="red mr2"><path fill-rule="evenodd" d="M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3z"/></svg>
<a href=../../firmware/ class="db black">Firmware</a>
</div></li><li>
<div class="flex items-center pv2"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 8 16" fill="#ccc" class="red mr2"><path fill-rule="evenodd" d="M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3z"/></svg>
<a href=../../diy/ class="db black">DIY & Troubleshooting</a>
</div></li><li>
<div class="flex items-center pv2"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 8 16" fill="#ccc" class="red mr2"><path fill-rule="evenodd" d="M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3z"/></svg>
<a href=../../glossary/ class="db black">Glossary</a>
</div></li><li>
<div class="flex items-center pv2"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 8 16" fill="#ccc" class="red mr2"><path fill-rule="evenodd" d="M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3z"/></svg>
<a href=../../installs/ class="db black">Installs</a>
</div></li><li>
<div class="flex items-center pv2"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 8 16" fill="#ccc" class="red mr2"><path fill-rule="evenodd" d="M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3z"/></svg>
<a href=../../networking/ class="db black">Networking</a>
</div></li><li>
<div class="flex items-center pv2"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 8 16" fill="#ccc" class="red mr2"><path fill-rule="evenodd" d="M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3z"/></svg>
<a href=../../nodes/ class="db black">Nodes</a>
</div></li><li>
<div class="flex items-center pv2"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 8 16" fill="#ccc" class="red mr2"><path fill-rule="evenodd" d="M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3z"/></svg>
<a href=../../organization/ class="db black">Organization</a>
</div></li><li>
<div class="flex items-center pv2"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 8 16" fill="#ccc" class="red mr2"><path fill-rule="evenodd" d="M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3z"/></svg>
<a href=../../security/ class="db black">Security</a>
</div></li><li>
<div class="flex items-center pv2"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 8 16" fill="#ccc" class="red mr2"><path fill-rule="evenodd" d="M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3z"/></svg>
<a href=../../services/ class="db black">Services</a>
</div></li><li>
<div class="flex items-center pv2"><svg xmlns="http://www.w3.org/2000/svg" width="10" height="16" viewBox="0 0 8 16" fill="#ccc" class="red mr2"><path fill-rule="evenodd" d="M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3z"/></svg>
<a href=../../software/ class="db black">Software</a>
</div></li></ul></div></div></div><div class="overflow-y-scroll-ns w-80-ns">
<header class="dn ph4 h3 flex-ns flex-row items-center justify-start-l justify-center sans-serif bg-white">
<div class="w-100-ns f4 measure-wide flex items-center justify-end">
<nav class="f5 flex flex-wrap justify-center">
<a href=https://nycmesh.net/ class="f5 blue">Main Site →</a>
</nav></div></header><main class="bg-white bt bw05 b--light-gray sans-serif flex flex-row-l flex-column">
<div class="bg-white w-100 pa4-ns pa3">
<div class=f4>
<div class="flex items-center justify-between">
<h1 class=mv0>
Configs
</h1><a class="nowrap pl2" target=_ href=https://github.com/nycmeshnet/docs/blob/master/content/hardware/config.md>
<div class="ba b--light-gray br2 pa2 f6 fw5 black flex"><svg class="mr1 h1 db-ns dn" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
<span>Edit<span class="dn di-ns pre"> on GitHub</span></span>
</div></a>
</div><div class=f5>
<div class=f6>
<p>
Last updated
April 8, 2022 by Chris Morgan
</p></div><p><strong>List of devices we use and links to standard configs and firmware</strong></p><p>This doc is in progress. Please add links below to the specific config instructions</p><p><strong>Important</strong>: Note that we use a <strong>Network Number</strong> (or <strong>NN</strong>) from now on to configure devices. The <strong>Network Number</strong> is not the Install Number (or request number) you received when registering. You can find out your <strong>NN</strong> using your Install Number (request number) received by email when you registered. To find out what is your NN please see <a href=../../installs/nn/>Network Number</a></p><h2 id=litebeam--litebeam-lr>LiteBeam / LiteBeam-LR</h2><p>All supernode and hub clients use DHCP for the IP address and use WPA password:nycmeshnet</p><ul>
<li><a href=#lbe-client>LiteBeam Standard config</a> (P2MP to connect to Supernode or hub sectors)</li><li>Old detailed config- <a href=../../installs/cpe2>sn2</a></li><li>P2P</li></ul><h2 id=omnitik>OmniTik</h2><ul>
<li><a href=#omniTerm>Standard config</a></li><li><a href=#omniWinbox>WinBox method</a></li><li><a href=../../hardware/mikrotikomnitik5ac>General info</a></li></ul><h2 id=sxtsq>SXTsq</h2><ul>
<li><a href=#sxtMeshConfig>Mesh config</a></li><li><a href=#sxtKioskConfig>Kiosk config</a></li></ul><p>SXTsq old manual config-</p><ul>
<li><a href=#sxtKiosk>Kiosk client</a></li><li><a href=#sxtClient>OmniTik client</a></li><li><a href=#sxtP2P>Point-to-point</a></li></ul><h2 id=liteac--lbe120-sector>LiteAC / LBE120 Sector</h2><ul>
<li>SN and Hub <a href=#liteac>Easy config</a></li></ul><h2 id=edgepoint>EdgePoint</h2><ul>
<li>Switch</li><li>BGP</li></ul><h2 id=nanostation-nsm5>NanoStation NSM5</h2><ul>
<li>Dan Grinkevich image (qMp/bmx6/tinc)</li><li>Joachim’s image (LEDE/bmx6)</li></ul><h2 id=tp-link-n300-tl-wr841n>TP-Link N300 (TL-WR841N)</h2><ul>
<li><a href=../../installs/tp-link/>Config</a></li></ul><hr>
<h3 id=a-namelbe-clientalitebeam-client-for-supernodes-and-hubs-with-sectors><a name=lbe-client></a>LiteBeam client for Supernodes and hubs with sectors</h3><p>First, download the <code>WA</code> <a href=../../firmware/ubiquiti>firmware</a> in case your LiteBeam is running an outdated version. We currently use 8.7.1 and 8.7.4 in our network depending on the location. Do not use 8.7.5 and newer as there are bugs that break connectivity after several days.</p><p>Second, download the config file for either a standard <a href="https://configgen.nycmesh.net/?version=v4.5&device=LiteBeam5AC&template=lbeGen2-8_7_1.cfg.tmpl">LiteBeam</a> or <a href="https://configgen.nycmesh.net/?version=v4.5&device=LiteBeamLR">LiteBeam LR</a>. You will need your network number which is obtained by entering your Install Number below (you should have received this your email after completing the <a href=https://nycmesh.net/join>join form</a>). If <code>error: no address for ****</code> is displayed, please reach out to us on <a href=https://slack.nycmesh.net>Slack</a> at #install or via <a href=mailto:install@nycmesh.net>email</a> to register your installation. If <code>Sorry, unable to open the file at this time </code> is displayed, try using Incognito Mode or Private Browsing.</p><form action=https://script.google.com/macros/s/AKfycbzYLzA7LSoTsXXaPKaKCXI2ZEviYvSjQloMurzW4w3LkuykewOSaVR6__ZL7P7VD1Bm/exec>
<label for=installnum>Install Number:</label>
<input type=hidden id=method name=method value=nn>
<input type=hidden name=format value=1>
<input type=number id=id name=id min=1 max=100000>
<input type=submit value="Get Network Number">
<button type=button onclick='window.location.href="../../installs/nn/"'>More Information</button>
<input type=hidden name=format value=1>
</form><p>Plug in LiteBeam to PoE and connect via management wifi- SSID- &ldquo;LBE-5AC-Gen2:&mldr;.&rdquo; or &ldquo;NBE&mldr;&rdquo; (booting turns on wifi for 15 minutes)</p><p>Go to <a href=https://192.168.172.1>https://192.168.172.1</a> in your browser if your device does not automatically redirect you. You may be met with a warning due to a self-signed security certificate, which you can bypass.</p><p>At the &ldquo;Please Set Up Your Device&rdquo; prompt, select <code>United States</code> under Country and <code>English</code> under language. Select the Terms of Use checkbox and click <code>Upload Backup Configuration</code>. Chose the <code>.cfg</code> file you downloaded from Configgen.</p><p>You will see a prompt on the top-right corner of the screen saying <code>Configuration backup file uploaded.</code> Select <code>Apply</code> and wait a minute for the page to reload. Sometimes you will have to refresh the page to get back into the interface.</p><p>The username/password will be changed. Please mention your network number and that you’re looking for the new credentials on Slack in <code>#diy-install-support</code>, and they will be sent to you. <strong>Please do not share them publicly!</strong></p><p>To pair with the supernode or hub, go to Settings>Wireless and click the SSID &ldquo;SELECT&mldr;&rdquo; button. This will do a scan. Click the button next to the best AirMac AC signal. (-80 is bad, -50 is good, -62 is typical) Click &ldquo;SELECT&rdquo; and then &ldquo;SAVE CHANGES&rdquo; (twice if necessary)</p><p><strong>Troubleshooting:</strong> If you are unable to log into the LiteBeam, reset it to factory defaults- press and hold the Reset button for more than 10 seconds while the LiteBeam is already powered on.</p><p>What the config file does: The config file sets DHCP for the IP address, WPA password: nycmeshnet, adds the building number to the device name, adds the UNMS key for monitoring and sets the SNMP location and contact to &ldquo;nycmesh&rdquo;.</p><hr>
<h3 id=a-nameomnitermastandard-omnitik-mesh-config><a name=omniTerm></a>Standard Omnitik mesh config</h3><p><strong>1. Download Stable Firmware and Generate Configuration</strong></p><p><strong>Don&rsquo;t use version 7</strong> of firmware. It won&rsquo;t work! Use 6.47.x</p><p>==> You will need your <strong>Network Number</strong> or <strong>NN</strong>. You can find out your NN using your Install Number (request number) received by email when you registered. To find out what is your NN please see <a href=../../installs/nn/>Network Number</a></p><ol>
<li>Download the latest stable v6 firmware - see <a href=https://docs.nycmesh.net/software/mikrotikfirmware>Mikrotik Firmware</a>.</li><li>Generate a configuration file for your Network Number by going to the NYC Mesh configuration generator. <a href="https://configgen.nycmesh.net/?device=Omnitik5AC&template=rooftop-ospf.rsc.tmpl">Configgen</a>. Type in the network number and click “Download Config”. For SXTsq config file <a href=#sxtMeshConfig>see below</a></li></ol><p><strong>2. Connect to the Router</strong></p><ol>
<li>To connect to the Omnitik wirelessly, find the router’s SSID and connect to it. (For SXTsq connect via cable)</li><li>To connect with a cable, plug one end of a patch cable into the Omnitik’s Port 2 and the other end into your computer’s LAN port. Set your computer to DHCP (automatic) and it will get an address like 192.168.88.xxx.</li><li>Navigate to the default Mikrotik IP <a href=http://192.168.88.1>192.168.88.1</a> in your web browser. This will open the Mikrotik GUI.
The default username is admin and there is no password.</li></ol><p><strong>3. Upload Firmware</strong></p><ol>
<li>Open the Mikrotik GUI in your browser.</li><li>Click “Webfig” in the top right corner.</li><li>Click “Files” in the left side menu.</li><li>Click “Choose File” at the top.</li><li>Navigate to where you saved the firmware, select the file and click “Open”. You will see the file appear in the interface.</li><li>Wait for the firmware to fully upload (you will see the upload progress in the bottom left corner). This firmware will automatically be installed when you reboot with the new configuration (see next section).</li></ol><p><strong>4. Upload Configuration</strong></p><ol>
<li>If you are using a Mac or Linux operating system, go into Terminal, navigate to the folder where you’ve saved the config and enter the following command:</li></ol><pre tabindex=0><code>scp -o StrictHostKeyChecking=no rooftop-ospf.rsc admin@192.168.88.1:flash/
</code></pre><ol start=2>
<li>If you are using a Windows operating system, go into Command Prompt, navigate to the folder where you’ve saved the config and enter the following command. You must download pscp.exe from <a href=https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html>PuTTY</a> (64-bit or 32-bit) to the same folder then run:</li></ol><pre tabindex=0><code>pscp -scp rooftop-ospf.rsc admin@192.168.88.1:flash/
</code></pre><ol start=3>
<li>If asked “Dangerous Reset anyway?” type in Y and return/enter.</li><li>Reopen the Mikrotik GUI in your web browser and navigate back to “Files” as described in section 3 above. You should see the config file you just uploaded.</li><li>Click “System” in the left side menu.</li><li>Click “Reset Configuration” in the left side menu dropdown. Select:</li></ol><ul>
<li>No Default Configuration</li><li>Run After Reset: flash/rooftop-ospf.rsc (click the popup on the right to select this)</li></ul><ol start=7>
<li>Click &ldquo;Reset Configuration&rdquo;</li><li>The Omnitik will now reboot (and install new firmware if you uploaded it). If it plays some beeps, ending with a short tune <a href="https://www.youtube.com/watch?v=gbcG2TI4GBk">Kernkraft 400</a>, the configuration was a success!</li></ol><p>The Omnitik IP address has changed to a 10.69.x.x address. This is generated from the network number, e.g. for network number 1234 the IP address will be 10.69.12.34</p><p><strong>5. Change the Password</strong></p><ol>
<li>Click “System” in the left side menu.</li><li>Click “Password” in the left side menu dropdown.</li><li>Type in the standard NYC Mesh password.</li></ol><p><strong>6. Force on POE for a LiteBeam</strong></p><p>A typical install also has a LiteBeam on port 5 that is powered from the OmniTik. To do this you must-</p><ol>
<li>Go to Webfig>interfaces>ether5</li><li>Change &ldquo;POE Out&rdquo; to &ldquo;forced on&rdquo;</li></ol><p>Other devices can be powered from other ports if you change this setting</p><hr>
<h3 id=a-nameomniwinboxaomnitik-mesh-config-with-winbox><a name=omniWinbox></a>OmniTik mesh config with WinBox</h3><p>You can configure OmniTik routers and all MikroTik equipment with their WinBox software and associated app.</p><p><strong>1. Download WinBox and other files</strong></p><p>First you will need to download a WinBox-compatible client to configure the OmniTik.</p><details>
<summary>Windows</summary>
<p>On the <a href=https://mikrotik.com/download>MikroTik website</a>, you can navigate to the WinBox button to download the version of WinBox that suits your computer.</p></details>
<details>
<summary>macOS</summary>
<p>Joshaven Potter has complied a version of WinBox with Wine which you can download <a href=https://joshaven.com/resources/tools/winbox-for-mac/>from their website</a> and run without any additional configuration.</p></details>
<details>
<summary>Android</summary>
<p>The MikroTik Pro app uses the same WinBox protocol to upload files and configure your router without a computer. You can download it from the <a href="https://play.google.com/store/apps/details?id=com.mikrotik.android.tikapp">Play Store</a>.</p></details>
<details>
<summary>iOS</summary>
<p>The MikroTik app uses the same WinBox protocol to upload files and configure your router without a computer. You can download it from the <a href=https://apps.apple.com/app/id1323064830>App Store</a>.</p></details>
<p>Next you need to download new firmware from the <a href=https://mikrotik.com/download>MikroTik website</a>. In the RouterOS table, find the <code>MIPSBE</code> section and click on the floppy icon that corresponds with the &ldquo;Main package&rdquo; and &ldquo;Stable&rdquo; categories. You should see the downloaded file named <code>routeros-mipsbe-***.npk</code>.</p><p>Lastly you will need to download the network configuration specific to your location. After completing the <a href=https://nycmesh.net/join>join form</a> you should have received an email containing your Install Number. Enter this number below. If <code>error: no address for ****</code> is displayed, please reach out to us on <a href=https://slack.nycmesh.net>Slack</a> at #install or via <a href=mailto:install@nycmesh.net>email</a> to register your installation. If <code>Sorry, unable to open the file at this time </code> is displayed, try using Incognito Mode or Private Browsing.</p><form action=https://script.google.com/macros/s/AKfycbzYLzA7LSoTsXXaPKaKCXI2ZEviYvSjQloMurzW4w3LkuykewOSaVR6__ZL7P7VD1Bm/exec>
<label for=installnum>Install Number:</label>
<input type=hidden id=method name=method value=nn>
<input type=hidden name=format value=1>
<input type=number id=id name=id min=1 max=100000>
<input type=submit value="Get Network Number">
<button type=button onclick='window.location.href="../../installs/nn/"'>More Information</button>
<input type=hidden name=format value=1>
</form><p>Once you have your Network Number, go to the <a href="https://configgen.nycmesh.net/?device=Omnitik5AC&template=rooftop-ospf.rsc.tmpl">Configgen utility</a> and enter the number into the &ldquo;network_number&rdquo; field and click &ldquo;Download Config&rdquo;. You should see the downloaded file named <code>rooftop-ospf.rsc</code>. If the file has a <code>.csv</code> extension, rename the file to remove the extension so that it ends in <code>.rsc</code>.</p><p><strong>2. Connect to the router</strong></p><p>You can connect to the router using an Ethernet cable or through Wi-Fi. There are caveats to both, but configuring wirelessly is the easiest to do when doing the install outside.</p><details>
<summary>Wired</summary>
<p>Assuming your Ethernet adapter is setup to get an IP from the router using DHCP (probably default), all you have to do is plug an Ethernet cable from your computer to a Port 2-4 on the router.</p><p>Do NOT plug the computer into the PoE injector (Port 1) as the default configuration blocks all inbound connections to this port, including WinBox.</p><p>Do NOT plug the computer into Port 5, as we may be configuring this later to do PoE-Out which will damage any devices plugged in here that are not expecting power.</p></details>
<details>
<summary>Wireless</summary>
<p>Assuming your Wi-Fi adapter is setup to get an IP from the router using DHCP (probably default), all you have to do is look for a network in your Wi-Fi settings named <code>MikroTik-xxxxx</code>. This network will only appear after the router has fully powered on (two short beeps).</p><p>If you are on a phone, sometimes you will have to turn off your Mobile data/turn on airplane mode in order to reach the router that technically does not have any internet yet.</p></details>
<p>Make sure any VPN software you have is disabled at this point, as it will likely block any connections to the router.</p><p>From your WinBox software, find the &ldquo;Neighbors&rdquo; tab on the lower-half of the screen. On the MikroTik app, click on the &ldquo;Discover&rdquo; tab. You should see an entry on the list with Identity <code>MikroTik</code>. If you do not see anything, click &ldquo;Refresh&rdquo; or swipe down to rescan for devices. Double-check your connections and confirm you are getting an IP from the router (will be in the <code>192.168.88.***</code> range).</p><p>Double-click or tap on the entry to load the IP into the software. On the App, you will be prompted to select either MAC or IP; select IP. Now, the default login <code>admin/[no password]</code> will be displayed and you can hit &ldquo;Connect&rdquo;.</p><p>You will get a prompt saying &ldquo;RouterOS Default Configuration&rdquo;. Hit OK to get out of here (do NOT remove configuration or use quick setup). Now for the fun part.</p><p><strong>3. Upload the configuration</strong></p><p>On the sidebar (hamburger menu on mobile), click Files. Here is where we will upload those files from earlier.</p><p>From your WinBox software, drag and drop the <code>routeros-mipsbe-***.npk</code> file into the blank space in the window. You should see the file transfer take a few seconds before it finishes. Next, drag and drop the <code>rooftop-ospf.rsc</code> file onto the flash folder. You should see the uploaded file labeled <code>flash/rooftop-ospf.rsc</code>.</p><p>From your phone, hit the upload arrow button on the bottom-left of the screen and select the <code>routeros-mipsbe-***.npk</code> file. You can save as the original name and hit OK. You should see the file transfer take a few seconds before it finishes. Next, do the same with the rooftop-ospf.rsc file, but this time make sure you prepend the file name with <code>flash/</code> and hit OK. You should see the uploaded file labeled <code>flash/rooftop-ospf.rsc</code>.</p><p><strong>4. Flash the config and party</strong></p><p>On the sidebar (back button on mobile), click &ldquo;System&rdquo;. Find the &ldquo;Reset Configuration&rdquo; option. Select the &ldquo;No Default Configuration&rdquo; checkbox, and under &ldquo;Run After Reset&rdquo;, use the arrows to drop down the menu to reveal the files. Select <code>flash/rooftop-ospf.rsc</code>, and finally hit &ldquo;Reset Configuration&rdquo;. The software will now disconnect and nothing will happen for a while; the router is upgrading the firmware. After you hear the two beeps and some music the configuration is complete.</p><p><strong>5. Confirm settings and configuration</strong></p><p>WinBox will inform you that the router has been disconnected. Hit Cancel. If you are connecting wirelessly, look in your Wi-Fi settings for <code>nycmesh-****-omni</code>. Connect to that wireless network with the password <code>nycmeshnet</code>. If you are connecting via Ethernet, you can test this on another device to make sure the Wi-Fi is working correctly. If you are not planning on adding devices or changing the configuration further, you are done! 🎉</p><p>If you are planning on connecting a LiteBeam to your router or just want to learn about the configuration, go back to &ldquo;Neighbors&rdquo; or &ldquo;Discover&rdquo; depending on your platform; you should see an entry on the list with Identity &ldquo;nycmesh-****-omni&rdquo;. Login to it like before.</p><p>On the sidebar (hamburger on mobile), click &ldquo;Interfaces&rdquo; (then &ldquo;Ethernet&rdquo; on mobile). Double-click or tap on <code>ether5</code>. Click on the PoE tab, and change the &ldquo;PoE Out&rdquo; drop-down from <code>auto on</code> to <code>forced on</code>. Hit OK or the checkmark button on mobile. This improves reliability for connected PoE devices.</p><hr>
<h3 id=a-namesxtmeshconfigasxtsq-to-omnitik-mesh><a name=sxtMeshConfig></a>SXTsq to Omnitik Mesh</h3><p>You can install an SXTsq to connect to one of our OmniTik routers using OSPF/WDS meshing. The SXTsq is directional so it can reach further distances than an omnidirectional OmniTik. <strong>Please note that a <a href=../../installs/nn/>Network Number</a> is required to use the config generators below.</strong></p><p>If you are installing an SXTsq plugged into port 5 of an OmniTik, use the <a href="https://configgen.nycmesh.net/?device=SXTsq5AC&template=sxtsq5ac-wds-ospf.rsc.tmpl">SXTsq config</a></p><p>If you are installing an SXTsq to plug directly into a home router use the <a href="https://configgen.nycmesh.net/?device=SXTsq5AC&template=sxtsq5ac-wds-ospf-solo.rsc.tmpl">SXTsq &ldquo;solo&rdquo; config</a></p><p>Once you have the config downloaded from configgen, you can use the <a href=#omni>OmniTik instructions</a> to install it.</p><hr>
<h3 id=a-namesxtkioskconfigasxtsq-diy-kiosk-config><a name=sxtKioskConfig></a>SXTsq DIY kiosk config</h3><p>The LinkNYC kiosks use <a href=https://en.wikipedia.org/wiki/Dynamic_frequency_selection>DFS channels</a> which although legal and FCC approved aren&rsquo;t supported in some USA versions of hardware.
<br> <br>
==> You will need your <strong>Network Number</strong> or <strong>NN</strong>. You can find out your NN using your Install Number (request number) received by email when you registered. To find out what is your NN please see <a href=../../installs/nn/>Network Number</a></p><p>For connecting to a kiosk, download this <a href="https://configgen.nycmesh.net/?device=SXTsq5AC&template=sxtsq5ac-kiosk-vpn-ospf.rsc.tmpl">config file</a></p><p>Once you have the configgen file you can use the <a href=#omni>OmniTik instructions</a> on how to install it</p><hr>
<h3 id=a-namesxtkioskasxtsq-kiosk-old-manual-config><a name=sxtKiosk></a>SXTsq kiosk old manual config</h3><p><strong>This config may not work with Windows computers</strong></p><p>The following works with a new SXTsq or a reset SXTsq. You must have the &ldquo;International&rdquo; version. To reset an SXTsq, hold the reset button for about 5 seconds while the unit is booting and release as soon as green LED starts flashing (to reset RouterOS configuration to defaults).</p><p>Connect to the SXTsq via ethernet and DHCP. You will get a 192.168.88.xxx address</p><p>In the terminal</p><pre tabindex=0><code>ssh -o StrictHostKeyChecking=no admin@192.168.88.1
</code></pre><p>Hit return to get the &ldquo;[admin@MikroTik] >&rdquo; prompt, and paste this-</p><pre tabindex=0><code>/interface wireless security-profiles  
add authentication-types=wpa-eap,wpa2-eap eap-methods=eap-ttls-mschapv2 group-ciphers=tkip,aes-ccm mode=dynamic-keys mschapv2-password=5fsOpxER mschapv2-username=anonymous@citybridge.com name=linknyc supplicant-identity=anonymous@citybridge.com tls-mode=dont-verify-certificate unicast-ciphers=tkip,aes-ccm  

/interface wireless  
set [ find default-name=wlan1 ] band=5ghz-a/n/ac channel-width=20/40/80mhz-Ceee country=&#34;united states2&#34; default-authentication=no disabled=no frequency=auto security-profile=linknyc ssid=&#34;LinkNYC Private&#34; wireless-protocol=802.11  

/interface wireless connect-list  
add interface=wlan1 security-profile=linknyc ssid=&#34;LinkNYC Private&#34; wireless-protocol=802.11  
</code></pre><p>This script automatically connects the SXTsq to the private LinkNYC Kiosk channel. No login is required.</p><hr>
<h3 id=a-namesxtclientasxtsq-client><a name=sxtClient></a>SXTsq Client</h3><p>Set your computer to connect using DHCP (&ldquo;automatic&rdquo; on PC)<br>
Connect via ethernet and you will get an address like 192.168.88.xxx</p><p><strong>Reset</strong><br>
press the reset button WHILE powering on the unit by plugging in the POE cable.<br>
Once one of the LEDs begins to flash white/blue (about 5 seconds), release reset button while it&rsquo;s flashing. After one minute the device will be ready</p><p><strong>Connect to GUI</strong><br>
open your browser and connect to http://192.168.88.1/<br>
default username: admin<br>
default password: (leave empty)<br>
Click the button that says &ldquo;Webfig&rdquo; in the top right</p><p><strong>Name the device</strong><br>
system > identity<br>
&ldquo;n<your-network-id>-<device-type>-<index>&rdquo;. So if your network id is 1000, your device name could be: n1000-sxt-0</p><p><strong>Set a password</strong><br>
System > password<br>
IMPORTANT: You must use a unique and strong (at least 8 characters, the longer the better) password to ensure the security of your device!</p><p><strong>IP > Services</strong></p><ul>
<li>Disable telnet</li><li>Disable ftp</li><li>Consider disabling the api and winbox services if you will not be using them.</li></ul><p>Other security precautions to consider
<a href=https://wiki.mikrotik.com/wiki/Manual:Securing_Your_Router>https://wiki.mikrotik.com/wiki/Manual:Securing_Your_Router</a></p><p><strong>IP > firewall</strong><br>
Find and disable this input rule:<br>
4<br>
;;; defconf: drop all not coming from LAN</p><p><strong>Bridge</strong></p><ul>
<li>add new<br>
set Protocol Mode to &ldquo;none&rdquo;</li><li>hit apply and OK</li></ul><p><strong>IP > DHCP Server</strong><br>
disable by clicking the small [D] button</p><p><strong>IP > DHCP Client</strong></p><ul>
<li>change Interface to bridge1</li><li>hit apply and OK</li></ul><p><strong>Wireless > security profiles (tab)</strong><br>
add new<br>
name: nycmeshnet<br>
uncheck wpa psk<br>
leave wpa2 psk checked<br>
write in wpa2 Pre-Shared-Key field: nycmeshnet<br>
apply and ok</p><p><strong>Wireless > wlan1</strong><br>
Set mode to station-bridge<br>
Set SSID of the hub you want to connect to e.g. nycmesh-xxx<br>
Set channel width to 20/40/80MHz XXXX<br>
Set frequency to auto<br>
Set security profile to nycmeshnet<br>
(below only if you have SXT international version)<br>
Click Advanced Mode button at top<br>
Scroll down and set country drop down to united states</p><p>When all settings are correct and the station connects the status should change from &ldquo;searching for network&rdquo; to &ldquo;connected to ess&rdquo;.</p><p><strong>Bridge > Ports</strong><br>
Add new, set interface to ether1, set bridge to bridge1<br>
Add new, set interface to wlan1, set bridge to bridge1</p><p><strong>IP > Addresses</strong></p><ul>
<li>Add new, set address to 192.168.88.1/24 set interface to bridge1</li><li>Delete entry 192.168.88.1/24 on interface ether1</li></ul><p><strong>Change your computer network settings back to automatic or DHCP</strong><br>
(Note you must be connected to the access point to proceed beyond this point)</p><p><strong>Access GUI via routable IP address</strong><br>
Use the name you used for your device, plus the name of the access point to generate the correct URL. For example if your network id is 1000 and the hub id is 500, the URL would be:<br>
<a href=http://n1000-sxt-0.n500.mesh/>http://n1000-sxt-0.n500.mesh/</a></p><p><strong>Update (2 step process)</strong></p><ol>
<li>system > packages</li></ol><ul>
<li>enable ipv6</li><li>update / reboot</li></ul><ol start=2>
<li>system > routerboard > update<br>
Reboot</li></ol><hr>
<h3 id=a-namesxtp2pasxtsq-point-to-point--ptp><a name=sxtP2P></a>SXTsq Point-to-Point (PtP)</h3><p>The following works with two new SXTsq or a reset SXTsq. To reset an SXTsq, hold the reset button for about 5 seconds while the unit is booting and release as soon as green LED starts flashing (to reset RouterOS configuration to defaults). It is recommended to update the firmware of your SXTsq to the latest. The under has been tested with firmware v.6.43.12</p><p>One of the SXT will act as an &ldquo;AP&rdquo; but can be associated to only one &ldquo;client&rdquo;. The second SXT will be the &ldquo;client&rdquo;.</p><p>After the configuration there will be no DHCP Server or Client, thus you will need to configure your laptop IP mannually in the same network range, for exemple 192.168.88.11</p><p>The SXT-AP and SXT-Client port address will be change in order to not interfere with another potential SXT default IP.</p><ul>
<li>AP will be ether1: 192.168.88.2 and bridge1: 192.168.88.3</li><li>Client will be ether1: 192.168.88.4 and bridge1: 192.168.88.5</li></ul><p>Connect to the SXTsq via ethernet and DHCP. You will get a 192.168.88.xxx address</p><p>In the terminal</p><pre tabindex=0><code>ssh -o StrictHostKeyChecking=no admin@192.168.88.1
</code></pre><p>Say &lsquo;yes&rsquo; to the warning and paste this for the SXT-AP-</p><pre tabindex=0><code># Feb 25th 2019 for RouterOS 6.43.12
# model = RBSXTsqG-5acD

# SXT PtP / This is the AP

# Set the SXT Identity
/system identity
set name=&#34;sxt ptp ap&#34;

#add security profile (to secure wifi connection login) and SSID
/interface wireless security-profiles
set [ find default=yes ] supplicant-identity=MikroTik
add authentication-types=wpa-psk,wpa2-psk management-protection=allowed mode=\
dynamic-keys name=sxt-ap supplicant-identity=&#34;SXT PtP AP&#34; \
wpa-pre-shared-key=nycmeshnet wpa2-pre-shared-key=nycmeshnet

#set the wireless (wlan1) to USA 2 and the proper band
/interface wireless
set [ find default-name=wlan1 ] band=5ghz-a/n/ac channel-width=\
20/40/80mhz-Ceee country=&#34;united states2&#34; disabled=no mode=bridge \
security-profile=sxt-ap ssid=nycmesh-nn-sxtptp

# disable the NAT and disable all the firewall filters
/ip firewall nat
set numbers=0 disabled=yes

/ip firewall filter
set numbers=1 disabled=yes
set numbers=2 disabled=yes
set numbers=3 disabled=yes
set numbers=4 disabled=yes
set numbers=5 disabled=yes
set numbers=6 disabled=yes
set numbers=7 disabled=yes
set numbers=8 disabled=yes
set numbers=9 disabled=yes
set numbers=10 disabled=yes

# disable the dhcp-client and server
/ip dhcp-client
set [find interface=wlan1 ] disabled=yes
/ip dhcp-server
set [find interface=ether1] disabled=yes

#add a bridge and add port ether1 and wlan1 (switch)
/interface bridge
add name=bridge1
/interface bridge port
add bridge=bridge1 interface=ether1
add bridge=bridge1 interface=wlan1

#change IP address of the &#34;sxt ptp client&#34; to not mix with potential other SXT default IP address
/ip address
add address=192.168.88.3/24 interface=bridge1 network=192.168.88.0
set [ find interface=ether1] address=192.168.88.2/24
</code></pre><p>Say &lsquo;yes&rsquo; to the warning and paste this for the SXT-Client-</p><pre tabindex=0><code># Feb 25th 2019 for RouterOS 6.43.12
# model = RBSXTsqG-5acD

# SXT PtP / This is the Client

# Set the SXT Identity
/system identity
set name=&#34;sxt ptp client&#34;

#add security profile (to secure wifi connection login)
/interface wireless security-profiles
set [ find default=yes ] authentication-types=wpa-psk,wpa2-psk group-ciphers=\
tkip,aes-ccm mode=dynamic-keys supplicant-identity=MikroTik \
unicast-ciphers=tkip,aes-ccm wpa-pre-shared-key=nycmeshnet \
wpa2-pre-shared-key=nycmeshnet
/interface wireless security-profiles
add authentication-types=wpa-psk,wpa2-psk group-ciphers=tkip,aes-ccm \
management-protection=allowed mode=dynamic-keys name=sxt-ap \
supplicant-identity=&#34;sxt ptp client&#34; unicast-ciphers=tkip,aes-ccm \
wpa-pre-shared-key=nycmeshnet wpa2-pre-shared-key=nycmeshnet


#set the wireless (wlan1) to USA 2 and the proper band.
/interface wireless
set [ find default-name=wlan1 ] band=5ghz-a/n/ac channel-width=\
20/40/80mhz-Ceee country=&#34;united states2&#34; disabled=no frequency=auto \
mode=station-bridge security-profile=sxt-ap ssid=nycmesh-nn-sxtptp

/interface wireless connect-list
add interface=wlan1 security-profile=sxt-ap ssid=nycmesh-nn-sxptp

# disable the NAT and disable all the firewall filters
/ip firewall nat
set numbers=0 disabled=yes

/ip firewall filter
set numbers=1 disabled=yes
set numbers=2 disabled=yes
set numbers=3 disabled=yes
set numbers=4 disabled=yes
set numbers=5 disabled=yes
set numbers=6 disabled=yes
set numbers=7 disabled=yes
set numbers=8 disabled=yes
set numbers=9 disabled=yes
set numbers=10 disabled=yes

# disable the dhcp-client and server
/ip dhcp-client
set [find interface=wlan1 ] disabled=yes
/ip dhcp-server
set [find interface=ether1] disabled=yes

#add a bridge and add port ether1 and wlan1 (switch)
/interface bridge
add name=bridge1
/interface bridge port
add bridge=bridge1 interface=ether1
add bridge=bridge1 interface=wlan1

#change IP address of the &#34;sxt ptp client&#34; to not mix with potential other SXT default IP address
/ip address
add address=192.168.88.5/24 interface=bridge1 network=192.168.88.0
set [ find interface=ether1] address=192.168.88.4/24
</code></pre><hr>
<h3 id=a-nameliteacaliteap-120-sector><a name=liteac></a>LiteAP 120 sector</h3><p>Connect to the LiteAP GUI. Upgrade the firmware</p><p>In Wireless set:<br></p><ul>
<li>Wireless mode to <strong>Access Point PtMP airmax AC</strong> <br></li><li>SSID &ldquo;nycmesh-xxxx-direction&rdquo; (for exemple: nycmesh-1635-east) <br></li><li>channel width 40 Mhz <br></li><li>Control Freq. ON <br>
Select all freq. and uncheck from 5565 to 5705 (5565 and 5705 included)<br>
(This is extremely <strong>important</strong>, due to FCC regulations in NY we need to make sure to not use any channel overlapping 5590 - 5677)<br></li><li>choose a center freq. different then other local antenna (sector, litebeam, powerbeam, etc &mldr;)<br></li><li>Wireless Security: WPA security personal / Preshared key: nycmeshnet <br></li><li>TDD framing: Flexible (or Flexibe (new) depending on firmware)<br></li><li>ReSE ON <br></li><li>Advance: Isolation ON <br></li></ul><p>In Network set:<br></p><ul>
<li>DHCP and fallback IP 192.168.1.20</li></ul><p>In Services:<br></p><ul>
<li>Add UNMS key</li></ul><p>In System set:<br></p><ul>
<li>Device name: same as SSID<br></li><li>turn NTP server ON<br></li><li>Set the time zone<br></li></ul><p><br><br></p><hr>
</div></div></div></main></div></div></body></html>